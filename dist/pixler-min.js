function showOffScreen(){document.querySelector(".area.offscreen").style.display="block"}function hideOffScreen(){document.querySelector(".area.offscreen").style.display="none"}function redrawFromFile(){console.log("redrawing from file"),file.layers.forEach(function(a){var b=document.getElementById("StageBoxLayer-"+a.id);b.width=b.width});var a=editor.layers.getIds();file.pixels.forEach(function(b){if(inArray(a,b.layer)){var c=new Color({r:b.r,g:b.g,b:b.b});stage.pixel.fill(b.layer,b.x,b.y,c)}})}function NodeList2Array(a){return[].slice.call(a)}function inArray(a,b){return a.indexOf(b)>-1}function fitCanvasIntoSquareContainer(a,b,c){var d,e=a,f=b,g={};return e>f?(d=c/e,g.marginTop=Math.floor((c-Math.round(f*d))/2)):(d=c/f,g.marginLeft=Math.floor((c-Math.round(e*d))/2)),e=Math.round(e*d),f=Math.round(f*d),g.width=e,g.height=f,g}function wrapPixel(a,b){var c=a.x+b.x,d=a.y+b.y;return c>file.size.width?c-=file.size.width:1>c&&(c+=file.size.width),d>file.size.height?d-=file.size.height:1>d&&(d+=file.size.height),new Point(c,d)}function isLayerVisible(){var a=file.getLayerById(editor.layers.selected);return a.visible&&a.opacity>0}function changeColorLightness(a,b){var c=new Color(a.rgb()),d=c.hsl().l;return d+=b,c.values.hsl[2]=d,c.setValues("hsl",c.values.hsl),c}function minutely(){console.log("running minutely job"),workspace.save()}(function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.6.0";var y=x.each=x.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,x.property(b))},x.where=function(a,b){return x.filter(a,x.matches(b))},x.findWhere=function(a,b){return x.find(a,x.matches(b))},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return null==a?x.identity:x.isFunction(a)?a:x.property(a)};x.sortBy=function(a,b,c){return b=B(b),x.pluck(x.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={};return c=B(c),y(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};x.groupBy=C(function(a,b,c){x.has(a,b)?a[b].push(c):a[b]=[c]}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.partition=function(a,b){var c=[],d=[];return y(a,function(a){(b(a)?c:d).push(a)}),[c,d]},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.contains(b,a)})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===x&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:x.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=x.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=x.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=x.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return x.partial(b,a)},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=function(a){if(!x.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.constant=function(a){return function(){return a}},x.property=function(a){return function(b){return b[a]}},x.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},x.now=Date.now||function(){return(new Date).getTime()};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(a,b){"object"==typeof module&&module.exports?module.exports=b(require("underscore"),this):"function"==typeof define&&define.amd?define(["underscore"],function(c){return b(c,a)}):a.postal=b(a._,a)}(this,function(a,b){var c,d=b.postal,e=function(){function a(a){if("function"!=typeof a.target)throw new Error("You can only make functions into Conduits.");var b={pre:a.pre||[],post:a.post||[],all:[]},c=a.context,d={isTarget:!0,fn:a.sync?function(){var b=Array.prototype.slice.call(arguments,0),d=a.target.apply(c,b);return d}:function(b){var d=Array.prototype.slice.call(arguments,1);d.splice(1,1,a.target.apply(c,d)),b.apply(this,d)}},e=function(){b.all=b.pre.concat([d].concat(b.post))};e();var f=function(){var d,e,f=0,g=function h(){var g,i,j=Array.prototype.slice.call(arguments,0),k=f;f+=1,k<b.all.length&&(g=b.all[k],e="target"===e?"after":g.isTarget?"target":"before",a.sync?"before"===e?(i=g.fn.apply(g.context||c,j),h.apply(this,i||j)):(d=g.fn.apply(g.context||c,j)||d,h.apply(this,[d].concat(j))):g.fn.apply(g.context||c,[h].concat(j)))};return g.apply(this,arguments),d};return f.steps=function(){return b.all},f.context=function(a){return 0===arguments.length?c:void(c=a)},f.before=function(a,c){a="function"==typeof a?{fn:a}:a,c=c||{},c.prepend?b.pre.unshift(a):b.pre.push(a),e()},f.after=function(a,c){a="function"==typeof a?{fn:a}:a,c=c||{},c.prepend?b.post.unshift(a):b.post.push(a),e()},f.clear=function(){b={pre:[],post:[],all:[]},e()},f}return{Sync:function(b){return b.sync=!0,a.call(this,b)},Async:function(b){return a.call(this,b)}}}(),f=function(a){this.channel=a||c.configuration.DEFAULT_CHANNEL,this.initialize()};f.prototype.initialize=function(){},f.prototype.subscribe=function(){return c.subscribe({channel:this.channel,topic:1===arguments.length?arguments[0].topic:arguments[0],callback:1===arguments.length?arguments[0].callback:arguments[1]})},f.prototype.publish=function(){var a=1===arguments.length?"[object String]"===Object.prototype.toString.call(arguments[0])?{topic:arguments[0]}:arguments[0]:{topic:arguments[0],data:arguments[1]};a.channel=this.channel,c.publish(a)};var g=function(a,b,c){if(3!==arguments.length)throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");if(0===b.length)throw new Error("Topics cannot be empty");this.channel=a,this.topic=b,this.subscribe(c)};g.prototype={unsubscribe:function(){this.inactive||(this.inactive=!0,c.unsubscribe(this))},subscribe:function(a){return this.callback=a,this},withContext:function(a){return this.context=a,this}};var h=function(){var b;return function(c){var d=!1;return a.isString(c)?(d=c===b,b=c):(d=a.isEqual(c,b),b=a.clone(c)),!d}},i=function(){var b=[];return function(c){var d=!a.any(b,function(b){return a.isObject(c)||a.isArray(c)?a.isEqual(c,b):c===b});return d&&b.push(c),d}},j={withDelay:function(b){if(a.isNaN(b))throw"Milliseconds must be a number";return{name:"withDelay",fn:function(a,c,d){setTimeout(function(){a(c,d)},b)}}},defer:function(){return this.withDelay(0)},stopAfter:function(b,c){if(a.isNaN(b)||0>=b)throw"The value provided to disposeAfter (maxCalls) must be a number greater than zero.";var d=a.after(b,c);return{name:"stopAfter",fn:function(a,b,c){d(),a(b,c)}}},withThrottle:function(b){if(a.isNaN(b))throw"Milliseconds must be a number";return{name:"withThrottle",fn:a.throttle(function(a,b,c){a(b,c)},b)}},withDebounce:function(b,c){if(a.isNaN(b))throw"Milliseconds must be a number";return{name:"debounce",fn:a.debounce(function(a,b,c){a(b,c)},b,!!c)}},withConstraint:function(b){if(!a.isFunction(b))throw"Predicate constraint must be a function";return{name:"withConstraint",fn:function(a,c,d){b.call(this,c,d)&&a.call(this,c,d)}}},distinct:function(a){a=a||{};var b=function(a){return a[0]},c=a.all?new i(b):new h(b);return{name:"distinct",fn:function(a,b,d){c(b)&&a(b,d)}}}};g.prototype.defer=function(){return this.callback.before(j.defer()),this},g.prototype.disposeAfter=function(a){var b=this;return b.callback.before(j.stopAfter(a,function(){b.unsubscribe.call(b)})),b},g.prototype.distinctUntilChanged=function(){return this.callback.before(j.distinct()),this},g.prototype.distinct=function(){return this.callback.before(j.distinct({all:!0})),this},g.prototype.once=function(){return this.disposeAfter(1),this},g.prototype.withConstraint=function(a){return this.callback.before(j.withConstraint(a)),this},g.prototype.withConstraints=function(a){for(;a.length;)this.callback.before(j.withConstraint(a.shift()));return this},g.prototype.withDebounce=function(a,b){return this.callback.before(j.withDebounce(a,b)),this},g.prototype.withDelay=function(a){return this.callback.before(j.withDelay(a)),this},g.prototype.withThrottle=function(a){return this.callback.before(j.withThrottle(a)),this},g.prototype.subscribe=function(a){return this.callback=new e.Async({target:a,context:this}),this},g.prototype.withContext=function(a){return this.callback.context(a),this},g.prototype.after=function(){this.callback.after.apply(this,arguments)},g.prototype.before=function(){this.callback.before.apply(this,arguments)},f.prototype.initialize=function(){var a=this.publish;this.publish=new e.Async({target:a,context:this})};var k={cache:{},regex:{},compare:function(b,c){var d,e,f,g=this.cache[c]&&this.cache[c][b];return"undefined"!=typeof g?g:((e=this.regex[b])||(d="^"+a.map(b.split("."),function(a){var b="";return f&&(b="#"!==f?"\\.\\b":"\\b"),b+="#"===a?"[\\s\\S]*":"*"===a?"[^.]+":a,f=a,b}).join("")+"$",e=this.regex[b]=new RegExp(d)),this.cache[c]=this.cache[c]||{},this.cache[c][b]=g=e.test(c),g)},reset:function(){this.cache={},this.regex={}}},l=function(a,b){!a.inactive&&c.configuration.resolver.compare(a.topic,b.topic)&&a.callback.call(a.context||this,b.data,b)},m=0,n=[],o=function(){for(;n.length;)c.unsubscribe(n.shift())},p=function(b){return"function"==typeof b?b:b?function(d){var e=0,f=0;return a.each(b,function(a,g){e+=1,("topic"===g&&c.configuration.resolver.compare(d.topic,b.topic)||"context"===g&&b.context===(d.callback.context&&d.callback.context()||d.context)||d[g]===b[g])&&(f+=1)}),e===f}:function(){return!0}};c={configuration:{resolver:k,DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal"},subscriptions:{},wireTaps:[],ChannelDefinition:f,SubscriptionDefinition:g,channel:function(a){return new f(a)},subscribe:function(a){var b,c=new g(a.channel||this.configuration.DEFAULT_CHANNEL,a.topic,a.callback),d=this.subscriptions[c.channel];return this.publish({channel:this.configuration.SYSTEM_CHANNEL,topic:"subscription.created",data:{event:"subscription.created",channel:c.channel,topic:c.topic}}),d||(d=this.subscriptions[c.channel]={}),b=this.subscriptions[c.channel][c.topic],b||(b=this.subscriptions[c.channel][c.topic]=[]),b.push(c),c},publish:function(b){++m,b.channel=b.channel||this.configuration.DEFAULT_CHANNEL,b.timeStamp=new Date,a.each(this.wireTaps,function(a){a(b.data,b)}),this.subscriptions[b.channel]&&a.each(this.subscriptions[b.channel],function(a){for(var c,d=0,e=a.length;e>d;)(c=a[d++])&&l(c,b)}),0===--m&&o()},unsubscribe:function(){for(var a,b=0,c=Array.prototype.slice.call(arguments,0);a=c.shift();){if(m)return void n.push(a);if(this.subscriptions[a.channel]&&this.subscriptions[a.channel][a.topic]){var d=this.subscriptions[a.channel][a.topic].length;for(b=0;d>b;){if(this.subscriptions[a.channel][a.topic][b]===a){this.subscriptions[a.channel][a.topic].splice(b,1);break}b+=1}}this.publish({channel:this.configuration.SYSTEM_CHANNEL,topic:"subscription.removed",data:{event:"subscription.removed",channel:a.channel,topic:a.topic}})}},addWireTap:function(a){var b=this;return b.wireTaps.push(a),function(){var c=b.wireTaps.indexOf(a);-1!==c&&b.wireTaps.splice(c,1)}},noConflict:function(){if("undefined"==typeof window||"undefined"!=typeof window&&"function"==typeof define&&define.amd)throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");return b.postal=d,this},getSubscribersFor:function(b){var c=[];return a.each(this.subscriptions,function(d){a.each(d,function(d){c=c.concat(a.filter(d,p(b)))})}),c},reset:function(){this.unsubscribeFor(),this.configuration.resolver.reset(),this.subscriptions={}},unsubscribeFor:function(a){var b=[];this.subscriptions&&(b=this.getSubscribersFor(a),this.unsubscribe.apply(this,b))}};var q=c.publish;if(c.publish=new e.Async({target:q,context:c}),c.subscriptions[c.configuration.SYSTEM_CHANNEL]={},c.linkChannels=function(b,c){var d=[],e=this;return b=a.isArray(b)?b:[b],c=a.isArray(c)?c:[c],a.each(b,function(b){var f=b.topic||"#";a.each(c,function(c){var g=c.channel||e.configuration.DEFAULT_CHANNEL;d.push(e.subscribe({channel:b.channel||e.configuration.DEFAULT_CHANNEL,topic:f,callback:function(b,d){var f=a.clone(d);f.topic=a.isFunction(c.topic)?c.topic(d.topic):c.topic||d.topic,f.channel=g,f.data=b,e.publish(f)}}))})}),d},b&&Object.prototype.hasOwnProperty.call(b,"__postalReady__")&&a.isArray(b.__postalReady__))for(;b.__postalReady__.length;)b.__postalReady__.shift().onReady(c);return c}),function(a,b){"object"==typeof module&&module.exports?module.exports=function(a,c){return b(a,c)}:"function"==typeof define&&define.amd?define(["underscore","postal"],function(c,d){return b(c,d,a)}):b(a._,a.postal,a)}("undefined"!=typeof window?window:this,function(a,b){b.diagnostics={};var c=function(c){c=c||{},a.extend(this,{active:!0,filters:[],name:a.uniqueId("wiretap_")},c),this.removeWireTap=b.addWireTap(a.bind(this.wiretapFn,this)),b.diagnostics[this.name]&&b.diagnostics[this.name].removeWireTap(),b.diagnostics[this.name]=this};return c.prototype.wiretapFn=function(b,c){if(this.active&&(!this.filters.length||a.any(this.filters,function(a){return this.applyFilter(a,c)},this)))try{this.writer(this.serialize(c))}catch(d){this.writer("Unable to serialize envelope: "+d)}},c.prototype.applyFilter=function(b,c){var d=0,e=0;return a.each(b,function(b,f){c[f]&&(e++,a.isRegExp(b)&&b.test(c[f])?d++:a.isObject(c[f])&&!a.isArray(c[f])?this.applyFilter(b,c[f])&&d++:a.isEqual(c[f],b)&&d++)},this),d===e},c.prototype.clearFilters=function(){this.filters=[]},c.prototype.removeFilter=function(b){this.filters=a.filter(this.filters,function(c){return!a.isEqual(c,b)})},c.prototype.addFilter=function(b){a.isArray(b)||(b=[b]),a.each(b,function(b){0!==this.filters.length&&a.any(this.filters,function(c){return a.isEqual(c,b)})||this.filters.push(b)},this)},c.prototype.serialize=function(a){if("undefined"==typeof JSON)throw new Error("This browser or environment does not provide JSON support");return JSON.stringify(a,null,4)},c.prototype.writer=function(a){console.log(a)},b.diagnostics.DiagnosticsWireTap=c,c}),function(a,b){function c(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function d(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return y[a.which]?y[a.which]:z[a.which]?z[a.which]:String.fromCharCode(a.which).toLowerCase()}function e(a,b){return a.sort().join(",")===b.sort().join(",")}function f(a){a=a||{};var b,c=!1;for(b in E)a[b]?c=!0:E[b]=0;c||(H=!1)}function g(a,b,c,d,f,g){var h,i,j=[],k=c.type;if(!C[a])return[];for("keyup"==k&&n(a)&&(b=[a]),h=0;h<C[a].length;++h)if(i=C[a][h],(d||!i.seq||E[i.seq]==i.level)&&k==i.action&&("keypress"==k&&!c.metaKey&&!c.ctrlKey||e(b,i.modifiers))){var l=!d&&i.combo==f,m=d&&i.seq==d&&i.level==g;(l||m)&&C[a].splice(h,1),j.push(i)}return j}function h(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function i(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function j(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function k(a,b,c,d){J.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(i(b),j(b))}function l(a,b,c){var d,e=g(a,b,c),h={},i=0,j=!1;for(d=0;d<e.length;++d)e[d].seq&&(i=Math.max(i,e[d].level));for(d=0;d<e.length;++d)if(e[d].seq){if(e[d].level!=i)continue;j=!0,h[e[d].seq]=1,k(e[d].callback,c,e[d].combo,e[d].seq)}else j||k(e[d].callback,c,e[d].combo);var l="keypress"==c.type&&G;c.type!=H||n(a)||l||f(h),G=j&&"keydown"==c.type}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=d(a);if(b)return"keyup"==a.type&&F===b?void(F=!1):void J.handleKey(b,h(a),a)}function n(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function o(){clearTimeout(x),x=setTimeout(f,1e3)}function p(){if(!w){w={};for(var a in y)a>95&&112>a||y.hasOwnProperty(a)&&(w[y[a]]=a)}return w}function q(a,b,c){return c||(c=p()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function r(a,b,c,e){function g(b){return function(){H=b,++E[a],o()}}function h(b){k(c,b,a),"keyup"!==e&&(F=d(b)),setTimeout(f,10)}E[a]=0;for(var i=0;i<b.length;++i){var j=i+1===b.length,l=j?h:g(e||t(b[i+1]).action);u(b[i],l,e,a,i)}}function s(a){return"+"===a?["+"]:a.split("+")}function t(a,b){var c,d,e,f=[];for(c=s(a),e=0;e<c.length;++e)d=c[e],B[d]&&(d=B[d]),b&&"keypress"!=b&&A[d]&&(d=A[d],f.push("shift")),n(d)&&f.push(d);return b=q(d,f,b),{key:d,modifiers:f,action:b}}function u(a,b,c,d,e){D[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,h=a.split(" ");return h.length>1?void r(a,h,b,c):(f=t(a,c),C[f.key]=C[f.key]||[],g(f.key,f.modifiers,{type:f.action},d,a,e),void C[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}))}function v(a,b,c){for(var d=0;d<a.length;++d)u(a[d],b,c)}for(var w,x,y={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},z={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},B={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C={},D={},E={},F=!1,G=!1,H=!1,I=1;20>I;++I)y[111+I]="f"+I;for(I=0;9>=I;++I)y[I+96]=I;c(b,"keypress",m),c(b,"keydown",m),c(b,"keyup",m);var J={bind:function(a,b,c){return a=a instanceof Array?a:[a],v(a,b,c),this},unbind:function(a,b){return J.bind(a,function(){},b)},trigger:function(a,b){return D[a+":"+b]&&D[a+":"+b]({},a),this},reset:function(){return C={},D={},this},stopCallback:function(a,b){return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:l};a.Mousetrap=J,"function"==typeof define&&define.amd&&define(J)}(window,document),!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.React=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";var c=a("./focusNode"),d={componentDidMount:function(){this.props.autoFocus&&c(this.getDOMNode())}};b.exports=d},{"./focusNode":100}],2:[function(a,b){"use strict";function c(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var d={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},e=["Webkit","ms","Moz","O"];Object.keys(d).forEach(function(a){e.forEach(function(b){d[c(b,a)]=d[a]})});var f={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},g={isUnitlessNumber:d,shorthandPropertyExpansions:f};
b.exports=g},{}],3:[function(a,b){"use strict";var c=a("./CSSProperty"),d=a("./dangerousStyleValue"),e=a("./escapeTextForBrowser"),f=a("./hyphenate"),g=a("./memoizeStringOnly"),h=g(function(a){return e(f(a))}),i={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];null!=e&&(b+=h(c)+":",b+=d(c,e)+";")}return b||null},setValueForStyles:function(a,b){var e=a.style;for(var f in b)if(b.hasOwnProperty(f)){var g=d(f,b[f]);if(g)e[f]=g;else{var h=c.shorthandPropertyExpansions[f];if(h)for(var i in h)e[i]="";else e[f]=""}}}};b.exports=i},{"./CSSProperty":2,"./dangerousStyleValue":95,"./escapeTextForBrowser":98,"./hyphenate":110,"./memoizeStringOnly":120}],4:[function(a,b){"use strict";function c(a){return"SELECT"===a.nodeName||"INPUT"===a.nodeName&&"file"===a.type}function d(a){var b=w.getPooled(B.change,D,a);t.accumulateTwoPhaseDispatches(b),v.batchedUpdates(e,b)}function e(a){s.enqueueEvents(a),s.processEventQueue()}function f(a,b){C=a,D=b,C.attachEvent("onchange",d)}function g(){C&&(C.detachEvent("onchange",d),C=null,D=null)}function h(a,b,c){return a===A.topChange?c:void 0}function i(a,b,c){a===A.topFocus?(g(),f(b,c)):a===A.topBlur&&g()}function j(a,b){C=a,D=b,E=a.value,F=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(C,"value",I),C.attachEvent("onpropertychange",l)}function k(){C&&(delete C.value,C.detachEvent("onpropertychange",l),C=null,D=null,E=null,F=null)}function l(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==E&&(E=b,d(a))}}function m(a,b,c){return a===A.topInput?c:void 0}function n(a,b,c){a===A.topFocus?(k(),j(b,c)):a===A.topBlur&&k()}function o(a){return a!==A.topSelectionChange&&a!==A.topKeyUp&&a!==A.topKeyDown||!C||C.value===E?void 0:(E=C.value,D)}function p(a){return"INPUT"===a.nodeName&&("checkbox"===a.type||"radio"===a.type)}function q(a,b,c){return a===A.topClick?c:void 0}var r=a("./EventConstants"),s=a("./EventPluginHub"),t=a("./EventPropagators"),u=a("./ExecutionEnvironment"),v=a("./ReactUpdates"),w=a("./SyntheticEvent"),x=a("./isEventSupported"),y=a("./isTextInputElement"),z=a("./keyOf"),A=r.topLevelTypes,B={change:{phasedRegistrationNames:{bubbled:z({onChange:null}),captured:z({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},C=null,D=null,E=null,F=null,G=!1;u.canUseDOM&&(G=x("change")&&(!("documentMode"in document)||document.documentMode>8));var H=!1;u.canUseDOM&&(H=x("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return F.get.call(this)},set:function(a){E=""+a,F.set.call(this,a)}},J={eventTypes:B,extractEvents:function(a,b,d,e){var f,g;if(c(b)?G?f=h:g=i:y(b)?H?f=m:(f=o,g=n):p(b)&&(f=q),f){var j=f(a,b,d);if(j){var k=w.getPooled(B.change,j,e);return t.accumulateTwoPhaseDispatches(k),k}}g&&g(a,b,d)}};b.exports=J},{"./EventConstants":14,"./EventPluginHub":16,"./EventPropagators":19,"./ExecutionEnvironment":20,"./ReactUpdates":71,"./SyntheticEvent":78,"./isEventSupported":113,"./isTextInputElement":115,"./keyOf":119}],5:[function(a,b){"use strict";var c=0,d={createReactRootIndex:function(){return c++}};b.exports=d},{}],6:[function(a,b){"use strict";function c(a){switch(a){case r.topCompositionStart:return t.compositionStart;case r.topCompositionEnd:return t.compositionEnd;case r.topCompositionUpdate:return t.compositionUpdate}}function d(a,b){return a===r.topKeyDown&&b.keyCode===o}function e(a,b){switch(a){case r.topKeyUp:return-1!==n.indexOf(b.keyCode);case r.topKeyDown:return b.keyCode!==o;case r.topKeyPress:case r.topMouseDown:case r.topBlur:return!0;default:return!1}}function f(a){this.root=a,this.startSelection=j.getSelection(a),this.startValue=this.getText()}var g=a("./EventConstants"),h=a("./EventPropagators"),i=a("./ExecutionEnvironment"),j=a("./ReactInputSelection"),k=a("./SyntheticCompositionEvent"),l=a("./getTextContentAccessor"),m=a("./keyOf"),n=[9,13,27,32],o=229,p=i.canUseDOM&&"CompositionEvent"in window,q=!p||"documentMode"in document&&document.documentMode>8,r=g.topLevelTypes,s=null,t={compositionEnd:{phasedRegistrationNames:{bubbled:m({onCompositionEnd:null}),captured:m({onCompositionEndCapture:null})},dependencies:[r.topBlur,r.topCompositionEnd,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:m({onCompositionStart:null}),captured:m({onCompositionStartCapture:null})},dependencies:[r.topBlur,r.topCompositionStart,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:m({onCompositionUpdate:null}),captured:m({onCompositionUpdateCapture:null})},dependencies:[r.topBlur,r.topCompositionUpdate,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]}};f.prototype.getText=function(){return this.root.value||this.root[l()]},f.prototype.getData=function(){var a=this.getText(),b=this.startSelection.start,c=this.startValue.length-this.startSelection.end;return a.substr(b,a.length-c-b)};var u={eventTypes:t,extractEvents:function(a,b,g,i){var j,l;if(p?j=c(a):s?e(a,i)&&(j=t.compositionEnd):d(a,i)&&(j=t.compositionStart),q&&(s||j!==t.compositionStart?j===t.compositionEnd&&s&&(l=s.getData(),s=null):s=new f(b)),j){var m=k.getPooled(j,g,i);return l&&(m.data=l),h.accumulateTwoPhaseDispatches(m),m}}};b.exports=u},{"./EventConstants":14,"./EventPropagators":19,"./ExecutionEnvironment":20,"./ReactInputSelection":52,"./SyntheticCompositionEvent":76,"./getTextContentAccessor":108,"./keyOf":119}],7:[function(a,b){"use strict";function c(a,b,c){var d=a.childNodes;d[c]!==b&&(b.parentNode===a&&a.removeChild(b),c>=d.length?a.appendChild(b):a.insertBefore(b,d[c]))}var d,e=a("./Danger"),f=a("./ReactMultiChildUpdateTypes"),g=a("./getTextContentAccessor"),h=g();d="textContent"===h?function(a,b){a.textContent=b}:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);if(b){var c=a.ownerDocument||document;a.appendChild(c.createTextNode(b))}};var i={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:d,processUpdates:function(a,b){for(var g,h=null,i=null,j=0;g=a[j];j++)if(g.type===f.MOVE_EXISTING||g.type===f.REMOVE_NODE){var k=g.fromIndex,l=g.parentNode.childNodes[k],m=g.parentID;h=h||{},h[m]=h[m]||[],h[m][k]=l,i=i||[],i.push(l)}var n=e.dangerouslyRenderMarkup(b);if(i)for(var o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);for(var p=0;g=a[p];p++)switch(g.type){case f.INSERT_MARKUP:c(g.parentNode,n[g.markupIndex],g.toIndex);break;case f.MOVE_EXISTING:c(g.parentNode,h[g.parentID][g.fromIndex],g.toIndex);break;case f.TEXT_CONTENT:d(g.parentNode,g.textContent);break;case f.REMOVE_NODE:}}};b.exports=i},{"./Danger":10,"./ReactMultiChildUpdateTypes":58,"./getTextContentAccessor":108}],8:[function(a,b){"use strict";var c=a("./invariant"),d={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:16,injectDOMPropertyConfig:function(a){var b=a.Properties||{},e=a.DOMAttributeNames||{},g=a.DOMPropertyNames||{},h=a.DOMMutationMethods||{};a.isCustomAttribute&&f._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var i in b){c(!f.isStandardName[i],"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",i),f.isStandardName[i]=!0;var j=i.toLowerCase();f.getPossibleStandardName[j]=i;var k=e[i];k&&(f.getPossibleStandardName[k]=i),f.getAttributeName[i]=k||j,f.getPropertyName[i]=g[i]||i;var l=h[i];l&&(f.getMutationMethod[i]=l);var m=b[i];f.mustUseAttribute[i]=m&d.MUST_USE_ATTRIBUTE,f.mustUseProperty[i]=m&d.MUST_USE_PROPERTY,f.hasSideEffects[i]=m&d.HAS_SIDE_EFFECTS,f.hasBooleanValue[i]=m&d.HAS_BOOLEAN_VALUE,f.hasPositiveNumericValue[i]=m&d.HAS_POSITIVE_NUMERIC_VALUE,c(!f.mustUseAttribute[i]||!f.mustUseProperty[i],"DOMProperty: Cannot require using both attribute and property: %s",i),c(f.mustUseProperty[i]||!f.hasSideEffects[i],"DOMProperty: Properties that have side effects must use property: %s",i),c(!f.hasBooleanValue[i]||!f.hasPositiveNumericValue[i],"DOMProperty: Cannot have both boolean and positive numeric value: %s",i)}}},e={},f={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasPositiveNumericValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<f._isCustomAttributeFunctions.length;b++){var c=f._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=e[a];return d||(e[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:d};b.exports=f},{"./invariant":112}],9:[function(a,b){"use strict";function c(a,b){return null==b||d.hasBooleanValue[a]&&!b||d.hasPositiveNumericValue[a]&&(isNaN(b)||1>b)}var d=a("./DOMProperty"),e=a("./escapeTextForBrowser"),f=a("./memoizeStringOnly"),g=a("./warning"),h=f(function(a){return e(a)+'="'}),i={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},j={},k=function(a){if(!i[a]&&!j[a]){j[a]=!0;var b=a.toLowerCase(),c=d.isCustomAttribute(b)?b:d.getPossibleStandardName[b];g(null==c,"Unknown DOM property "+a+". Did you mean "+c+"?")}},l={createMarkupForID:function(a){return h(d.ID_ATTRIBUTE_NAME)+e(a)+'"'},createMarkupForProperty:function(a,b){if(d.isStandardName[a]){if(c(a,b))return"";var f=d.getAttributeName[a];return d.hasBooleanValue[a]?e(f):h(f)+e(b)+'"'}return d.isCustomAttribute(a)?null==b?"":h(a)+e(b)+'"':(k(a),null)},setValueForProperty:function(a,b,e){if(d.isStandardName[b]){var f=d.getMutationMethod[b];if(f)f(a,e);else if(c(b,e))this.deleteValueForProperty(a,b);else if(d.mustUseAttribute[b])a.setAttribute(d.getAttributeName[b],""+e);else{var g=d.getPropertyName[b];d.hasSideEffects[b]&&a[g]===e||(a[g]=e)}}else d.isCustomAttribute(b)?null==e?a.removeAttribute(d.getAttributeName[b]):a.setAttribute(b,""+e):k(b)},deleteValueForProperty:function(a,b){if(d.isStandardName[b]){var c=d.getMutationMethod[b];if(c)c(a,void 0);else if(d.mustUseAttribute[b])a.removeAttribute(d.getAttributeName[b]);else{var e=d.getPropertyName[b],f=d.getDefaultValueForProperty(a.nodeName,e);d.hasSideEffects[b]&&a[e]===f||(a[e]=f)}}else d.isCustomAttribute(b)?a.removeAttribute(b):k(b)}};b.exports=l},{"./DOMProperty":8,"./escapeTextForBrowser":98,"./memoizeStringOnly":120,"./warning":134}],10:[function(a,b){"use strict";function c(a){return a.substring(1,a.indexOf(" "))}var d=a("./ExecutionEnvironment"),e=a("./createNodesFromMarkup"),f=a("./emptyFunction"),g=a("./getMarkupWrap"),h=a("./invariant"),i=/^(<[^ \/>]+)/,j="data-danger-index",k={dangerouslyRenderMarkup:function(a){h(d.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a Worker thread. This is likely a bug in the framework. Please report immediately.");for(var b,k={},l=0;l<a.length;l++)h(a[l],"dangerouslyRenderMarkup(...): Missing markup."),b=c(a[l]),b=g(b)?b:"*",k[b]=k[b]||[],k[b][l]=a[l];var m=[],n=0;for(b in k)if(k.hasOwnProperty(b)){var o=k[b];for(var p in o)if(o.hasOwnProperty(p)){var q=o[p];o[p]=q.replace(i,"$1 "+j+'="'+p+'" ')}var r=e(o.join(""),f);for(l=0;l<r.length;++l){var s=r[l];s.hasAttribute&&s.hasAttribute(j)?(p=+s.getAttribute(j),s.removeAttribute(j),h(!m.hasOwnProperty(p),"Danger: Assigning to an already-occupied result index."),m[p]=s,n+=1):console.error("Danger: Discarding unexpected node:",s)}}return h(n===m.length,"Danger: Did not assign to every index of resultList."),h(m.length===a.length,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,m.length),m},dangerouslyReplaceNodeWithMarkup:function(a,b){h(d.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. This is likely a bug in the framework. Please report immediately."),h(b,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),h("html"!==a.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString().");var c=e(b,f)[0];a.parentNode.replaceChild(c,a)}};b.exports=k},{"./ExecutionEnvironment":20,"./createNodesFromMarkup":93,"./emptyFunction":96,"./getMarkupWrap":105,"./invariant":112}],11:[function(a,b){"use strict";var c=a("./DOMProperty"),d=c.injection.MUST_USE_ATTRIBUTE,e=c.injection.MUST_USE_PROPERTY,f=c.injection.HAS_BOOLEAN_VALUE,g=c.injection.HAS_SIDE_EFFECTS,h=c.injection.HAS_POSITIVE_NUMERIC_VALUE,i={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:d|f,allowTransparency:d,alt:null,async:f,autoComplete:null,autoPlay:f,cellPadding:null,cellSpacing:null,charSet:d,checked:e|f,className:e,cols:d|h,colSpan:null,content:null,contentEditable:null,contextMenu:d,controls:e|f,crossOrigin:null,data:null,dateTime:d,defer:f,dir:null,disabled:d|f,download:null,draggable:null,encType:null,form:d,formNoValidate:f,frameBorder:d,height:d,hidden:d|f,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:e,label:null,lang:null,list:null,loop:e|f,max:null,maxLength:d,mediaGroup:null,method:null,min:null,multiple:e|f,muted:e|f,name:null,noValidate:f,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:e|f,rel:null,required:f,role:d,rows:d|h,rowSpan:null,sandbox:null,scope:null,scrollLeft:e,scrollTop:e,seamless:d|f,selected:e|f,size:d|h,span:h,spellCheck:null,src:null,srcDoc:e,srcSet:null,step:null,style:null,tabIndex:null,target:null,title:null,type:null,value:e|g,width:d,wmode:d,autoCapitalize:null,autoCorrect:null,property:null,cx:d,cy:d,d:d,fill:d,fx:d,fy:d,gradientTransform:d,gradientUnits:d,offset:d,points:d,r:d,rx:d,ry:d,spreadMethod:d,stopColor:d,stopOpacity:d,stroke:d,strokeLinecap:d,strokeWidth:d,textAnchor:d,transform:d,version:d,viewBox:d,x1:d,x2:d,x:d,y1:d,y2:d,y:d},DOMAttributeNames:{className:"class",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",htmlFor:"for",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeLinecap:"stroke-linecap",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=i},{"./DOMProperty":8}],12:[function(a,b){"use strict";var c=a("./keyOf"),d=[c({ResponderEventPlugin:null}),c({SimpleEventPlugin:null}),c({TapEventPlugin:null}),c({EnterLeaveEventPlugin:null}),c({ChangeEventPlugin:null}),c({SelectEventPlugin:null}),c({CompositionEventPlugin:null}),c({AnalyticsEventPlugin:null}),c({MobileSafariClickEventPlugin:null})];b.exports=d},{"./keyOf":119}],13:[function(a,b){"use strict";var c=a("./EventConstants"),d=a("./EventPropagators"),e=a("./SyntheticMouseEvent"),f=a("./ReactMount"),g=a("./keyOf"),h=c.topLevelTypes,i=f.getFirstReactDOM,j={mouseEnter:{registrationName:g({onMouseEnter:null}),dependencies:[h.topMouseOut,h.topMouseOver]},mouseLeave:{registrationName:g({onMouseLeave:null}),dependencies:[h.topMouseOut,h.topMouseOver]}},k=[null,null],l={eventTypes:j,extractEvents:function(a,b,c,g){if(a===h.topMouseOver&&(g.relatedTarget||g.fromElement))return null;if(a!==h.topMouseOut&&a!==h.topMouseOver)return null;var l;if(b.window===b)l=b;else{var m=b.ownerDocument;l=m?m.defaultView||m.parentWindow:window}var n,o;if(a===h.topMouseOut?(n=b,o=i(g.relatedTarget||g.toElement)||l):(n=l,o=b),n===o)return null;var p=n?f.getID(n):"",q=o?f.getID(o):"",r=e.getPooled(j.mouseLeave,p,g);r.type="mouseleave",r.target=n,r.relatedTarget=o;var s=e.getPooled(j.mouseEnter,q,g);return s.type="mouseenter",s.target=o,s.relatedTarget=n,d.accumulateEnterLeaveDispatches(r,s,p,q),k[0]=r,k[1]=s,k}};b.exports=l},{"./EventConstants":14,"./EventPropagators":19,"./ReactMount":55,"./SyntheticMouseEvent":81,"./keyOf":119}],14:[function(a,b){"use strict";var c=a("./keyMirror"),d=c({bubbled:null,captured:null}),e=c({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),f={topLevelTypes:e,PropagationPhases:d};b.exports=f},{"./keyMirror":118}],15:[function(a,b){var c=a("./emptyFunction"),d={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent(b,c)}}):void 0},capture:function(a,b,d){return a.addEventListener?(a.addEventListener(b,d,!0),{remove:function(){a.removeEventListener(b,d,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:c})}};b.exports=d},{"./emptyFunction":96}],16:[function(a,b){"use strict";function c(){var a=!o||!o.traverseTwoPhase||!o.traverseEnterLeave;if(a)throw new Error("InstanceHandle not injected before use!")}var d=a("./EventPluginRegistry"),e=a("./EventPluginUtils"),f=a("./ExecutionEnvironment"),g=a("./accumulate"),h=a("./forEachAccumulated"),i=a("./invariant"),j=a("./isEventSupported"),k=a("./monitorCodeUse"),l={},m=null,n=function(a){if(a){var b=e.executeDispatch,c=d.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch),e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a)}},o=null,p={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){o=a,c()},getInstanceHandle:function(){return c(),o},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){i(f.canUseDOM,"Cannot call putListener() in a non-DOM environment."),i(!c||"function"==typeof c,"Expected %s listener to be a function, instead got type %s",b,typeof c),"onScroll"!==b||j("scroll",!0)||(k("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event"));var d=l[b]||(l[b]={});d[a]=c},getListener:function(a,b){var c=l[b];return c&&c[a]},deleteListener:function(a,b){var c=l[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in l)delete l[b][a]},extractEvents:function(a,b,c,e){for(var f,h=d.plugins,i=0,j=h.length;j>i;i++){var k=h[i];if(k){var l=k.extractEvents(a,b,c,e);l&&(f=g(f,l))}}return f},enqueueEvents:function(a){a&&(m=g(m,a))},processEventQueue:function(){var a=m;m=null,h(a,n),i(!m,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){l={}},__getListenerBank:function(){return l}};b.exports=p},{"./EventPluginRegistry":17,"./EventPluginUtils":18,"./ExecutionEnvironment":20,"./accumulate":87,"./forEachAccumulated":101,"./invariant":112,"./isEventSupported":113,"./monitorCodeUse":125}],17:[function(a,b){"use strict";function c(){if(g)for(var a in h){var b=h[a],c=g.indexOf(a);if(f(c>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",a),!i.plugins[c]){f(b.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a),i.plugins[c]=b;var e=b.eventTypes;for(var j in e)f(d(e[j],b,j),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",j,a)}}}function d(a,b,c){f(!i.eventNameDispatchConfigs[c],"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",c),i.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var g in d)if(d.hasOwnProperty(g)){var h=d[g];e(h,b,c)}return!0}return a.registrationName?(e(a.registrationName,b,c),!0):!1}function e(a,b,c){f(!i.registrationNameModules[a],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a),i.registrationNameModules[a]=b,i.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var f=a("./invariant"),g=null,h={},i={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){f(!g,"EventPluginRegistry: Cannot inject event plugin ordering more than once."),g=Array.prototype.slice.call(a),c()},injectEventPluginsByName:function(a){var b=!1;for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];h[d]!==e&&(f(!h[d],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",d),h[d]=e,b=!0)}b&&c()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return i.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=i.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){g=null;for(var a in h)h.hasOwnProperty(a)&&delete h[a];i.plugins.length=0;var b=i.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=i.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=i},{"./invariant":112}],18:[function(a,b){"use strict";function c(a){return a===p.topMouseUp||a===p.topTouchEnd||a===p.topTouchCancel}function d(a){return a===p.topMouseMove||a===p.topTouchMove}function e(a){return a===p.topMouseDown||a===p.topTouchStart}function f(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(l(a),Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)b(a,c[e],d[e]);else c&&b(a,c,d)}function g(a,b,c){a.currentTarget=o.Mount.getNode(c);var d=b(a,c);return a.currentTarget=null,d}function h(a,b){f(a,b),a._dispatchListeners=null,a._dispatchIDs=null}function i(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(l(a),Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function j(a){l(a);var b=a._dispatchListeners,c=a._dispatchIDs;n(!Array.isArray(b),"executeDirectDispatch(...): Invalid `event`.");var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function k(a){return!!a._dispatchListeners}var l,m=a("./EventConstants"),n=a("./invariant"),o={Mount:null,injectMount:function(a){o.Mount=a,n(a&&a.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},p=m.topLevelTypes;l=function(a){var b=a._dispatchListeners,c=a._dispatchIDs,d=Array.isArray(b),e=Array.isArray(c),f=e?c.length:c?1:0,g=d?b.length:b?1:0;n(e===d&&f===g,"EventPluginUtils: Invalid `event`.")};var q={isEndish:c,isMoveish:d,isStartish:e,executeDirectDispatch:j,executeDispatch:g,executeDispatchesInOrder:h,executeDispatchesInOrderStopAtTrue:i,hasDispatches:k,injection:o,useTouchEvents:!1};b.exports=q},{"./EventConstants":14,"./invariant":112}],19:[function(a,b){"use strict";function c(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return p(a,d)}function d(a,b,d){if(!a)throw new Error("Dispatching id must not be null");var e=b?o.bubbled:o.captured,f=c(a,d,e);f&&(d._dispatchListeners=m(d._dispatchListeners,f),d._dispatchIDs=m(d._dispatchIDs,a))}function e(a){a&&a.dispatchConfig.phasedRegistrationNames&&l.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,d,a)}function f(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=p(a,d);e&&(c._dispatchListeners=m(c._dispatchListeners,e),c._dispatchIDs=m(c._dispatchIDs,a))}}function g(a){a&&a.dispatchConfig.registrationName&&f(a.dispatchMarker,null,a)}function h(a){n(a,e)}function i(a,b,c,d){l.injection.getInstanceHandle().traverseEnterLeave(c,d,f,a,b)}function j(a){n(a,g)}var k=a("./EventConstants"),l=a("./EventPluginHub"),m=a("./accumulate"),n=a("./forEachAccumulated"),o=k.PropagationPhases,p=l.getListener,q={accumulateTwoPhaseDispatches:h,accumulateDirectDispatches:j,accumulateEnterLeaveDispatches:i};b.exports=q},{"./EventConstants":14,"./EventPluginHub":16,"./accumulate":87,"./forEachAccumulated":101}],20:[function(a,b){"use strict";var c="undefined"!=typeof window,d={canUseDOM:c,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:c&&(window.addEventListener||window.attachEvent),isInWorker:!c};b.exports=d},{}],21:[function(a,b){"use strict";function c(a){i(null==a.props.checkedLink||null==a.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function d(a){c(a),i(null==a.props.value&&null==a.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function e(a){c(a),i(null==a.props.checked&&null==a.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function f(a){this.props.valueLink.requestChange(a.target.value)}function g(a){this.props.checkedLink.requestChange(a.target.checked)}var h=a("./ReactPropTypes"),i=a("./invariant"),j=a("./warning"),k={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},l={Mixin:{propTypes:{value:function(a,b){j(!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled,"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b){j(!a[b]||a.onChange||a.readOnly||a.disabled,"You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func}},getValue:function(a){return a.props.valueLink?(d(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(e(a),a.props.checkedLink.value):a.props.checked},getOnChange:function(a){return a.props.valueLink?(d(a),f):a.props.checkedLink?(e(a),g):a.props.onChange}};b.exports=l},{"./ReactPropTypes":64,"./invariant":112,"./warning":134}],22:[function(a,b){"use strict";var c=a("./EventConstants"),d=a("./emptyFunction"),e=c.topLevelTypes,f={eventTypes:null,extractEvents:function(a,b,c,f){if(a===e.topTouchStart){var g=f.target;g&&!g.onclick&&(g.onclick=d)}}};b.exports=f},{"./EventConstants":14,"./emptyFunction":96}],23:[function(a,b){"use strict";var c=a("./invariant"),d=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},e=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},f=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},g=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},h=function(a){var b=this;c(a instanceof b,"Trying to release an instance into a pool of a different type."),a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},i=10,j=d,k=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||j,c.poolSize||(c.poolSize=i),c.release=h,c},l={addPoolingTo:k,oneArgumentPooler:d,twoArgumentPooler:e,threeArgumentPooler:f,fiveArgumentPooler:g};b.exports=l},{"./invariant":112}],24:[function(a,b){"use strict";var c=a("./DOMPropertyOperations"),d=a("./EventPluginUtils"),e=a("./ReactChildren"),f=a("./ReactComponent"),g=a("./ReactCompositeComponent"),h=a("./ReactContext"),i=a("./ReactCurrentOwner"),j=a("./ReactDOM"),k=a("./ReactDOMComponent"),l=a("./ReactDefaultInjection"),m=a("./ReactInstanceHandles"),n=a("./ReactMount"),o=a("./ReactMultiChild"),p=a("./ReactPerf"),q=a("./ReactPropTypes"),r=a("./ReactServerRendering"),s=a("./ReactTextComponent"),t=a("./onlyChild");l.inject();var u={Children:{map:e.map,forEach:e.forEach,only:t},DOM:j,PropTypes:q,initializeTouchEvents:function(a){d.useTouchEvents=a},createClass:g.createClass,constructAndRenderComponent:n.constructAndRenderComponent,constructAndRenderComponentByID:n.constructAndRenderComponentByID,renderComponent:p.measure("React","renderComponent",n.renderComponent),renderComponentToString:r.renderComponentToString,renderComponentToStaticMarkup:r.renderComponentToStaticMarkup,unmountComponentAtNode:n.unmountComponentAtNode,isValidClass:g.isValidClass,isValidComponent:f.isValidComponent,withContext:h.withContext,__internals:{Component:f,CurrentOwner:i,DOMComponent:k,DOMPropertyOperations:c,InstanceHandles:m,Mount:n,MultiChild:o,TextComponent:s}},v=a("./ExecutionEnvironment");v.canUseDOM&&window.top===window.self&&navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools"),u.version="0.10.0",b.exports=u},{"./DOMPropertyOperations":9,"./EventPluginUtils":18,"./ExecutionEnvironment":20,"./ReactChildren":26,"./ReactComponent":27,"./ReactCompositeComponent":29,"./ReactContext":30,"./ReactCurrentOwner":31,"./ReactDOM":32,"./ReactDOMComponent":34,"./ReactDefaultInjection":44,"./ReactInstanceHandles":53,"./ReactMount":55,"./ReactMultiChild":57,"./ReactPerf":60,"./ReactPropTypes":64,"./ReactServerRendering":68,"./ReactTextComponent":70,"./onlyChild":128}],25:[function(a,b){"use strict";var c=a("./ReactMount"),d=a("./invariant"),e={getDOMNode:function(){return d(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."),c.getNode(this._rootNodeID)}};b.exports=e},{"./ReactMount":55,"./invariant":112}],26:[function(a,b){"use strict";function c(a,b){this.forEachFunction=a,this.forEachContext=b}function d(a,b,c,d){var e=a;e.forEachFunction.call(e.forEachContext,b,d)}function e(a,b,e){if(null==a)return a;var f=c.getPooled(b,e);k(a,d,f),c.release(f)}function f(a,b,c){this.mapResult=a,this.mapFunction=b,this.mapContext=c}function g(a,b,c,d){var e=a,f=e.mapResult,g=e.mapFunction.call(e.mapContext,b,d);j(!f.hasOwnProperty(c),"ReactChildren.map(...): Encountered two children with the same key, `%s`. Children keys must be unique.",c),f[c]=g}function h(a,b,c){if(null==a)return a;var d={},e=f.getPooled(d,b,c);return k(a,g,e),f.release(e),d}var i=a("./PooledClass"),j=a("./invariant"),k=a("./traverseAllChildren"),l=i.twoArgumentPooler,m=i.threeArgumentPooler;i.addPoolingTo(c,l),i.addPoolingTo(f,m);var n={forEach:e,map:h};b.exports=n},{"./PooledClass":23,"./invariant":112,"./traverseAllChildren":133}],27:[function(a,b){"use strict";function c(a){if(!a.__keyValidated__&&null==a.props.key&&(a.__keyValidated__=!0,g.current)){var b=g.current.constructor.displayName;if(!o.hasOwnProperty(b)){o[b]=!0;var c='Each child in an array should have a unique "key" prop. Check the render method of '+b+".",d=null;a.isOwnedBy(g.current)||(d=a._owner&&a._owner.constructor.displayName,c+=" It was passed a child from "+d+"."),c+=" See http://fb.me/react-warning-keys for more information.",m("react_key_warning",{component:b,componentOwner:d}),console.warn(c)}}}function d(a){if(r.test(a)){var b=g.current.constructor.displayName;
if(p.hasOwnProperty(b))return;p[b]=!0,m("react_numeric_key_warning"),console.warn("Child objects should have non-numeric keys so ordering is preserved. Check the render method of "+b+". See http://fb.me/react-warning-keys for more information.")}}function e(){var a=g.current&&g.current.constructor.displayName||"";q.hasOwnProperty(a)||(q[a]=!0,m("react_object_map_children"))}function f(a){if(Array.isArray(a))for(var b=0;b<a.length;b++){var f=a[b];v.isValidComponent(f)&&c(f)}else if(v.isValidComponent(a))a.__keyValidated__=!0;else if(a&&"object"==typeof a){e();for(var g in a)d(g,a)}}var g=a("./ReactCurrentOwner"),h=a("./ReactOwner"),i=a("./ReactUpdates"),j=a("./invariant"),k=a("./keyMirror"),l=a("./merge"),m=a("./monitorCodeUse"),n=k({MOUNTED:null,UNMOUNTED:null}),o={},p={},q={},r=/^\d+$/,s=!1,t=null,u=null,v={injection:{injectEnvironment:function(a){j(!s,"ReactComponent: injectEnvironment() can only be called once."),u=a.mountImageIntoNode,t=a.unmountIDFromEnvironment,v.BackendIDOperations=a.BackendIDOperations,v.ReactReconcileTransaction=a.ReactReconcileTransaction,s=!0}},isValidComponent:function(a){if(!a||!a.type||!a.type.prototype)return!1;var b=a.type.prototype;return"function"==typeof b.mountComponentIntoNode&&"function"==typeof b.receiveComponent},LifeCycle:n,BackendIDOperations:null,ReactReconcileTransaction:null,Mixin:{isMounted:function(){return this._lifeCycleState===n.MOUNTED},setProps:function(a,b){this.replaceProps(l(this._pendingProps||this.props,a),b)},replaceProps:function(a,b){j(this.isMounted(),"replaceProps(...): Can only update a mounted component."),j(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."),this._pendingProps=a,i.enqueueUpdate(this,b)},construct:function(a,b){this.props=a||{},this._owner=g.current,this._lifeCycleState=n.UNMOUNTED,this._pendingProps=null,this._pendingCallbacks=null,this._pendingOwner=this._owner;var c=arguments.length-1;if(1===c)f(b),this.props.children=b;else if(c>1){for(var d=Array(c),e=0;c>e;e++)f(arguments[e+1]),d[e]=arguments[e+1];this.props.children=d}},mountComponent:function(a,b,c){j(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",a);var d=this.props;null!=d.ref&&h.addComponentAsRefTo(this,d.ref,this._owner),this._rootNodeID=a,this._lifeCycleState=n.MOUNTED,this._mountDepth=c},unmountComponent:function(){j(this.isMounted(),"unmountComponent(): Can only unmount a mounted component.");var a=this.props;null!=a.ref&&h.removeComponentAsRefFrom(this,a.ref,this._owner),t(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=n.UNMOUNTED},receiveComponent:function(a,b){j(this.isMounted(),"receiveComponent(...): Can only update a mounted component."),this._pendingOwner=a._owner,this._pendingProps=a.props,this._performUpdateIfNecessary(b)},performUpdateIfNecessary:function(){var a=v.ReactReconcileTransaction.getPooled();a.perform(this._performUpdateIfNecessary,this,a),v.ReactReconcileTransaction.release(a)},_performUpdateIfNecessary:function(a){if(null!=this._pendingProps){var b=this.props,c=this._owner;this.props=this._pendingProps,this._owner=this._pendingOwner,this._pendingProps=null,this.updateComponent(a,b,c)}},updateComponent:function(a,b,c){var d=this.props;(this._owner!==c||d.ref!==b.ref)&&(null!=b.ref&&h.removeComponentAsRefFrom(this,b.ref,c),null!=d.ref&&h.addComponentAsRefTo(this,d.ref,this._owner))},mountComponentIntoNode:function(a,b,c){var d=v.ReactReconcileTransaction.getPooled();d.perform(this._mountComponentIntoNode,this,a,b,d,c),v.ReactReconcileTransaction.release(d)},_mountComponentIntoNode:function(a,b,c,d){var e=this.mountComponent(a,c,0);u(e,b,d)},isOwnedBy:function(a){return this._owner===a},getSiblingByRef:function(a){var b=this._owner;return b&&b.refs?b.refs[a]:null}}};b.exports=v},{"./ReactCurrentOwner":31,"./ReactOwner":59,"./ReactUpdates":71,"./invariant":112,"./keyMirror":118,"./merge":121,"./monitorCodeUse":125}],28:[function(a,b){"use strict";var c=a("./ReactDOMIDOperations"),d=a("./ReactMarkupChecksum"),e=a("./ReactMount"),f=a("./ReactPerf"),g=a("./ReactReconcileTransaction"),h=a("./getReactRootElementInContainer"),i=a("./invariant"),j=1,k=9,l={ReactReconcileTransaction:g,BackendIDOperations:c,unmountIDFromEnvironment:function(a){e.purgeID(a)},mountImageIntoNode:f.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(a,b,c){if(i(b&&(b.nodeType===j||b.nodeType===k),"mountComponentIntoNode(...): Target container is not valid."),c){if(d.canReuseMarkup(a,h(b)))return;i(b.nodeType!==k,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."),console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injectednew markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}i(b.nodeType!==k,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."),b.innerHTML=a})};b.exports=l},{"./ReactDOMIDOperations":36,"./ReactMarkupChecksum":54,"./ReactMount":55,"./ReactPerf":60,"./ReactReconcileTransaction":66,"./getReactRootElementInContainer":107,"./invariant":112}],29:[function(a,b){"use strict";function c(a,b,c){for(var d in b)b.hasOwnProperty(d)&&w("function"==typeof b[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactCompositeComponent",t[c],d)}function d(a,b){var c=G[b];S.hasOwnProperty(b)&&w(c===E.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",b),a.hasOwnProperty(b)&&w(c===E.DEFINE_MANY||c===E.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",b)}function e(a){var b=a._compositeLifeCycleState;w(a.isMounted()||b===R.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."),w(b!==R.RECEIVING_STATE,"replaceState(...): Cannot update during an existing state transition (such as within `render`). This could potentially cause an infinite loop so it is forbidden."),w(b!==R.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component.")}function f(a,b){w(!k(b),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."),w(!l.isValidComponent(b),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object.");var c=a.componentConstructor,e=c.prototype;for(var f in b){var g=b[f];if(b.hasOwnProperty(f))if(d(e,f),H.hasOwnProperty(f))H[f](a,g);else{var h=f in G,m=f in e,n=g&&g.__reactDontBind,o="function"==typeof g,p=o&&!h&&!m&&!n;p?(e.__reactAutoBindMap||(e.__reactAutoBindMap={}),e.__reactAutoBindMap[f]=g,e[f]=g):e[f]=m?G[f]===E.DEFINE_MANY_MERGED?i(e[f],g):j(e[f],g):g}}}function g(a,b){if(b)for(var c in b){var d=b[c];if(!b.hasOwnProperty(c))return;var e=c in a,f=d;if(e){var g=a[c],h=typeof g,i=typeof d;w("function"===h&&"function"===i,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once, but that is only supported for functions, which are chained together. This conflict may be due to a mixin.",c),f=j(g,d)}a[c]=f,a.componentConstructor[c]=f}}function h(a,b){return w(a&&b&&"object"==typeof a&&"object"==typeof b,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"),B(b,function(b,c){w(void 0===a[c],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: %s",c),a[c]=b}),a}function i(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);return null==c?d:null==d?c:h(c,d)}}function j(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function k(a){return a instanceof Function&&"componentConstructor"in a&&a.componentConstructor instanceof Function}var l=a("./ReactComponent"),m=a("./ReactContext"),n=a("./ReactCurrentOwner"),o=a("./ReactErrorUtils"),p=a("./ReactOwner"),q=a("./ReactPerf"),r=a("./ReactPropTransferer"),s=a("./ReactPropTypeLocations"),t=a("./ReactPropTypeLocationNames"),u=a("./ReactUpdates"),v=a("./instantiateReactComponent"),w=a("./invariant"),x=a("./keyMirror"),y=a("./merge"),z=a("./mixInto"),A=a("./monitorCodeUse"),B=a("./objMap"),C=a("./shouldUpdateReactComponent"),D=a("./warning"),E=x({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),F=[],G={mixins:E.DEFINE_MANY,statics:E.DEFINE_MANY,propTypes:E.DEFINE_MANY,contextTypes:E.DEFINE_MANY,childContextTypes:E.DEFINE_MANY,getDefaultProps:E.DEFINE_MANY_MERGED,getInitialState:E.DEFINE_MANY_MERGED,getChildContext:E.DEFINE_MANY_MERGED,render:E.DEFINE_ONCE,componentWillMount:E.DEFINE_MANY,componentDidMount:E.DEFINE_MANY,componentWillReceiveProps:E.DEFINE_MANY,shouldComponentUpdate:E.DEFINE_ONCE,componentWillUpdate:E.DEFINE_MANY,componentDidUpdate:E.DEFINE_MANY,componentWillUnmount:E.DEFINE_MANY,updateComponent:E.OVERRIDE_BASE},H={displayName:function(a,b){a.componentConstructor.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)f(a,b[c])},childContextTypes:function(a,b){var d=a.componentConstructor;c(d,b,s.childContext),d.childContextTypes=y(d.childContextTypes,b)},contextTypes:function(a,b){var d=a.componentConstructor;c(d,b,s.context),d.contextTypes=y(d.contextTypes,b)},propTypes:function(a,b){var d=a.componentConstructor;c(d,b,s.prop),d.propTypes=y(d.propTypes,b)},statics:function(a,b){g(a,b)}},I={constructor:!0,construct:!0,isOwnedBy:!0,type:!0,props:!0,__keyValidated__:!0,_owner:!0,_currentContext:!0},J={__keyValidated__:!0,__keySetters:!0,_compositeLifeCycleState:!0,_currentContext:!0,_defaultProps:!0,_instance:!0,_lifeCycleState:!0,_mountDepth:!0,_owner:!0,_pendingCallbacks:!0,_pendingContext:!0,_pendingForceUpdate:!0,_pendingOwner:!0,_pendingProps:!0,_pendingState:!0,_renderedComponent:!0,_rootNodeID:!0,context:!0,props:!0,refs:!0,state:!0,_pendingQueries:!0,_queryPropListeners:!0,queryParams:!0},K={},L=0,M=function(a,b){var c=I.hasOwnProperty(b);if(!(L>0||c)){var d=a.constructor.displayName||"Unknown",e=n.current,f=e&&e.constructor.displayName||"Unknown",g=b+"|"+d+"|"+f;if(!K.hasOwnProperty(g)){K[g]=!0;var h=e?" in "+f+".":" at the top level.",i="<"+d+" />.type."+b+"(...)";A("react_descriptor_property_access",{component:d}),console.warn('Invalid access to component property "'+b+'" on '+d+h+" See http://fb.me/react-warning-descriptors . Use a static method instead: "+i)}}},N=function(a,b){return a.__reactMembraneFunction&&a.__reactMembraneSelf===b?a.__reactMembraneFunction:a.__reactMembraneFunction=function(){L++;try{var c=this===b?this.__realComponentInstance:this;return a.apply(c,arguments)}finally{L--}}},O=function(a,b,c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){if(this===a)return b[c];M(this,c);var d=this.__realComponentInstance[c];return"function"==typeof d&&"type"!==c&&"constructor"!==c?N(d,this):d},set:function(d){return this===a?void(b[c]=d):(M(this,c),void(this.__realComponentInstance[c]=d))}})},P=function(a){var b,c={};for(b in a)O(c,a,b);for(b in J)!J.hasOwnProperty(b)||b in a||O(c,a,b);return c},Q=function(a){try{var b=function(){this.__realComponentInstance=new a,Object.freeze(this)};return b.prototype=P(a.prototype),b}catch(c){return a}},R=x({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),S={construct:function(){l.Mixin.construct.apply(this,arguments),p.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._currentContext=m.current,this._pendingContext=null,this._descriptor=null,this._compositeLifeCycleState=null},toJSON:function(){return{type:this.type,props:this.props}},isMounted:function(){return l.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==R.MOUNTING},mountComponent:q.measure("ReactCompositeComponent","mountComponent",function(a,b,c){l.Mixin.mountComponent.call(this,a,b,c),this._compositeLifeCycleState=R.MOUNTING,this.context=this._processContext(this._currentContext),this._defaultProps=this.getDefaultProps?this.getDefaultProps():null,this.props=this._processProps(this.props),this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.state=this.getInitialState?this.getInitialState():null,w("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=v(this._renderValidatedComponent()),this._compositeLifeCycleState=null;var d=this._renderedComponent.mountComponent(a,b,c+1);return this.componentDidMount&&b.getReactMountReady().enqueue(this,this.componentDidMount),d}),unmountComponent:function(){this._compositeLifeCycleState=R.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._defaultProps=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,l.Mixin.unmountComponent.call(this)},setState:function(a,b){w("object"==typeof a||null==a,"setState(...): takes an object of state variables to update."),D(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.replaceState(y(this._pendingState||this.state,a),b)},replaceState:function(a,b){e(this),this._pendingState=a,u.enqueueUpdate(this,b)},_processContext:function(a){var b=null,c=this.constructor.contextTypes;if(c){b={};for(var d in c)b[d]=a[d];this._checkPropTypes(c,b,s.context)}return b},_processChildContext:function(a){var b=this.getChildContext&&this.getChildContext(),c=this.constructor.displayName||"ReactCompositeComponent";if(b){w("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",c),this._checkPropTypes(this.constructor.childContextTypes,b,s.childContext);for(var d in b)w(d in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',c,d);return y(a,b)}return a},_processProps:function(a){var b=y(a),c=this._defaultProps;for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this.constructor.propTypes;return e&&this._checkPropTypes(e,b,s.prop),b},_checkPropTypes:function(a,b,c){var d=this.constructor.displayName;for(var e in a)a.hasOwnProperty(e)&&a[e](b,e,d,c)},performUpdateIfNecessary:function(){var a=this._compositeLifeCycleState;a!==R.MOUNTING&&a!==R.RECEIVING_PROPS&&l.Mixin.performUpdateIfNecessary.call(this)},_performUpdateIfNecessary:function(a){if(null!=this._pendingProps||null!=this._pendingState||null!=this._pendingContext||this._pendingForceUpdate){var b=this._pendingContext||this._currentContext,c=this._processContext(b);this._pendingContext=null;var d=this.props;null!=this._pendingProps&&(d=this._processProps(this._pendingProps),this._pendingProps=null,this._compositeLifeCycleState=R.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(d,c)),this._compositeLifeCycleState=R.RECEIVING_STATE;var e=this._pendingOwner,f=this._pendingState||this.state;this._pendingState=null;try{this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(d,f,c)?(this._pendingForceUpdate=!1,this._performComponentUpdate(d,e,f,b,c,a)):(this.props=d,this._owner=e,this.state=f,this._currentContext=b,this.context=c)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(a,b,c,d,e,f){var g=this.props,h=this._owner,i=this.state,j=this.context;this.componentWillUpdate&&this.componentWillUpdate(a,c,e),this.props=a,this._owner=b,this.state=c,this._currentContext=d,this.context=e,this.updateComponent(f,g,h,i,j),this.componentDidUpdate&&f.getReactMountReady().enqueue(this,this.componentDidUpdate.bind(this,g,i,j))},receiveComponent:function(a,b){a!==this._descriptor&&(this._descriptor=a,this._pendingContext=a._currentContext,l.Mixin.receiveComponent.call(this,a,b))},updateComponent:q.measure("ReactCompositeComponent","updateComponent",function(a,b,c){l.Mixin.updateComponent.call(this,a,b,c);var d=this._renderedComponent,e=this._renderValidatedComponent();if(C(d,e))d.receiveComponent(e,a);else{var f=this._rootNodeID,g=d._rootNodeID;d.unmountComponent(),this._renderedComponent=v(e);var h=this._renderedComponent.mountComponent(f,a,this._mountDepth+1);l.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(g,h)}}),forceUpdate:function(a){var b=this._compositeLifeCycleState;w(this.isMounted()||b===R.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."),w(b!==R.RECEIVING_STATE&&b!==R.UNMOUNTING,"forceUpdate(...): Cannot force an update while unmounting component or during an existing state transition (such as within `render`)."),this._pendingForceUpdate=!0,u.enqueueUpdate(this,a)},_renderValidatedComponent:q.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var a,b=m.current;m.current=this._processChildContext(this._currentContext),n.current=this;try{a=this.render()}finally{m.current=b,n.current=null}return w(l.isValidComponent(a),"%s.render(): A valid ReactComponent must be returned. You may have returned null, undefined, an array, or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"),a}),_bindAutoBindMethods:function(){for(var a in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(a)){var b=this.__reactAutoBindMap[a];this[a]=this._bindAutoBindMethod(o.guard(b,this.constructor.displayName+"."+a))}},_bindAutoBindMethod:function(a){var b=this,c=function(){return a.apply(b,arguments)};c.__reactBoundContext=b,c.__reactBoundMethod=a,c.__reactBoundArguments=null;var d=b.constructor.displayName,e=c.bind;return c.bind=function(f){var g=Array.prototype.slice.call(arguments,1);if(f!==b&&null!==f)A("react_bind_warning",{component:d}),console.warn("bind(): React component methods may only be bound to the component instance. See "+d);else if(!g.length)return A("react_bind_warning",{component:d}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+d),c;var h=e.apply(c,arguments);return h.__reactBoundContext=b,h.__reactBoundMethod=a,h.__reactBoundArguments=g,h},c}},T=function(){};z(T,l.Mixin),z(T,p.Mixin),z(T,r.Mixin),z(T,S);var U={LifeCycle:R,Base:T,createClass:function(a){var b=function(){};b.prototype=new T,b.prototype.constructor=b;var c=b,d=function(){var a=new c;return a.construct.apply(a,arguments),a};d.componentConstructor=b,b.ConvenienceConstructor=d,d.originalSpec=a,F.forEach(f.bind(null,d)),f(d,a),w(b.prototype.render,"createClass(...): Class specification must implement a `render` method."),b.prototype.componentShouldUpdate&&(A("react_component_should_update_warning",{component:a.displayName}),console.warn((a.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.")),d.type=b,b.prototype.type=b;for(var e in G)b.prototype[e]||(b.prototype[e]=null);return c=Q(b),d},isValidClass:k,injection:{injectMixin:function(a){F.push(a)}}};b.exports=U},{"./ReactComponent":27,"./ReactContext":30,"./ReactCurrentOwner":31,"./ReactErrorUtils":47,"./ReactOwner":59,"./ReactPerf":60,"./ReactPropTransferer":61,"./ReactPropTypeLocationNames":62,"./ReactPropTypeLocations":63,"./ReactUpdates":71,"./instantiateReactComponent":111,"./invariant":112,"./keyMirror":118,"./merge":121,"./mixInto":124,"./monitorCodeUse":125,"./objMap":126,"./shouldUpdateReactComponent":131,"./warning":134}],30:[function(a,b){"use strict";var c=a("./merge"),d={current:{},withContext:function(a,b){var e,f=d.current;d.current=c(f,a);try{e=b()}finally{d.current=f}return e}};b.exports=d},{"./merge":121}],31:[function(a,b){"use strict";var c={current:null};b.exports=c},{}],32:[function(a,b){"use strict";function c(a,b){var c=function(){};c.prototype=new d(a,b),c.prototype.constructor=c,c.displayName=a;var e=function(){var a=new c;return a.construct.apply(a,arguments),a};return e.type=c,c.prototype.type=c,c.ConvenienceConstructor=e,e.componentConstructor=c,e}var d=a("./ReactDOMComponent"),e=a("./mergeInto"),f=a("./objMapKeyVal"),g=f({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,"var":!1,video:!1,wbr:!0,circle:!1,defs:!1,g:!1,line:!1,linearGradient:!1,path:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1},c),h={injectComponentClasses:function(a){e(g,a)}};g.injection=h,b.exports=g},{"./ReactDOMComponent":34,"./mergeInto":123,"./objMapKeyVal":127}],33:[function(a,b){"use strict";var c=a("./AutoFocusMixin"),d=a("./ReactBrowserComponentMixin"),e=a("./ReactCompositeComponent"),f=a("./ReactDOM"),g=a("./keyMirror"),h=f.button,i=g({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),j=e.createClass({displayName:"ReactDOMButton",mixins:[c,d],render:function(){var a={};for(var b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&i[b]||(a[b]=this.props[b]);return h(a,this.props.children)}});b.exports=j},{"./AutoFocusMixin":1,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./keyMirror":118}],34:[function(a,b){"use strict";function c(a){a&&(p(null==a.children||null==a.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),p(null==a.style||"object"==typeof a.style,"The `style` prop expects a mapping from style properties to values, not a string."))}function d(a,b,c,d){var e=l.findReactContainerForID(a);if(e){var f=e.nodeType===y?e.ownerDocument:e;u(b,f)}d.getPutListenerQueue().enqueuePutListener(a,b,c)}function e(a,b){this._tagOpen="<"+a,this._tagClose=b?"":"</"+a+">",this.tagName=a.toUpperCase()}var f=a("./CSSPropertyOperations"),g=a("./DOMProperty"),h=a("./DOMPropertyOperations"),i=a("./ReactBrowserComponentMixin"),j=a("./ReactComponent"),k=a("./ReactEventEmitter"),l=a("./ReactMount"),m=a("./ReactMultiChild"),n=a("./ReactPerf"),o=a("./escapeTextForBrowser"),p=a("./invariant"),q=a("./keyOf"),r=a("./merge"),s=a("./mixInto"),t=k.deleteListener,u=k.listenTo,v=k.registrationNameModules,w={string:!0,number:!0},x=q({style:null}),y=1;e.Mixin={mountComponent:n.measure("ReactDOMComponent","mountComponent",function(a,b,d){return j.Mixin.mountComponent.call(this,a,b,d),c(this.props),this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(a){var b=this.props,c=this._tagOpen;for(var e in b)if(b.hasOwnProperty(e)){var g=b[e];if(null!=g)if(v[e])d(this._rootNodeID,e,g,a);else{e===x&&(g&&(g=b.style=r(b.style)),g=f.createMarkupForStyles(g));var i=h.createMarkupForProperty(e,g);i&&(c+=" "+i)}}if(a.renderToStaticMarkup)return c+">";var j=h.createMarkupForID(this._rootNodeID);return c+" "+j+">"},_createContentMarkup:function(a){var b=this.props.dangerouslySetInnerHTML;if(null!=b){if(null!=b.__html)return b.__html}else{var c=w[typeof this.props.children]?this.props.children:null,d=null!=c?null:this.props.children;if(null!=c)return o(c);if(null!=d){var e=this.mountChildren(d,a);return e.join("")}}return""},receiveComponent:function(a,b){a!==this&&(c(a.props),j.Mixin.receiveComponent.call(this,a,b))},updateComponent:n.measure("ReactDOMComponent","updateComponent",function(a,b,c){j.Mixin.updateComponent.call(this,a,b,c),this._updateDOMProperties(b,a),this._updateDOMChildren(b,a)}),_updateDOMProperties:function(a,b){var c,e,f,h=this.props;for(c in a)if(!h.hasOwnProperty(c)&&a.hasOwnProperty(c))if(c===x){var i=a[c];for(e in i)i.hasOwnProperty(e)&&(f=f||{},f[e]="")}else v[c]?t(this._rootNodeID,c):(g.isStandardName[c]||g.isCustomAttribute(c))&&j.BackendIDOperations.deletePropertyByID(this._rootNodeID,c);for(c in h){var k=h[c],l=a[c];if(h.hasOwnProperty(c)&&k!==l)if(c===x)if(k&&(k=h.style=r(k)),l){for(e in l)l.hasOwnProperty(e)&&!k.hasOwnProperty(e)&&(f=f||{},f[e]="");for(e in k)k.hasOwnProperty(e)&&l[e]!==k[e]&&(f=f||{},f[e]=k[e])}else f=k;else v[c]?d(this._rootNodeID,c,k,b):(g.isStandardName[c]||g.isCustomAttribute(c))&&j.BackendIDOperations.updatePropertyByID(this._rootNodeID,c,k)}f&&j.BackendIDOperations.updateStylesByID(this._rootNodeID,f)},_updateDOMChildren:function(a,b){var c=this.props,d=w[typeof a.children]?a.children:null,e=w[typeof c.children]?c.children:null,f=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,g=c.dangerouslySetInnerHTML&&c.dangerouslySetInnerHTML.__html,h=null!=d?null:a.children,i=null!=e?null:c.children,k=null!=d||null!=f,l=null!=e||null!=g;null!=h&&null==i?this.updateChildren(null,b):k&&!l&&this.updateTextContent(""),null!=e?d!==e&&this.updateTextContent(""+e):null!=g?f!==g&&j.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,g):null!=i&&this.updateChildren(i,b)},unmountComponent:function(){this.unmountChildren(),k.deleteAllListeners(this._rootNodeID),j.Mixin.unmountComponent.call(this)}},s(e,j.Mixin),s(e,e.Mixin),s(e,m.Mixin),s(e,i),b.exports=e},{"./CSSPropertyOperations":3,"./DOMProperty":8,"./DOMPropertyOperations":9,"./ReactBrowserComponentMixin":25,"./ReactComponent":27,"./ReactEventEmitter":48,"./ReactMount":55,"./ReactMultiChild":57,"./ReactPerf":60,"./escapeTextForBrowser":98,"./invariant":112,"./keyOf":119,"./merge":121,"./mixInto":124}],35:[function(a,b){"use strict";var c=a("./ReactBrowserComponentMixin"),d=a("./ReactCompositeComponent"),e=a("./ReactDOM"),f=a("./ReactEventEmitter"),g=a("./EventConstants"),h=e.form,i=d.createClass({displayName:"ReactDOMForm",mixins:[c],render:function(){return this.transferPropsTo(h(null,this.props.children))},componentDidMount:function(){f.trapBubbledEvent(g.topLevelTypes.topReset,"reset",this.getDOMNode()),f.trapBubbledEvent(g.topLevelTypes.topSubmit,"submit",this.getDOMNode())}});b.exports=i},{"./EventConstants":14,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactEventEmitter":48}],36:[function(a,b){"use strict";var c,d=a("./CSSPropertyOperations"),e=a("./DOMChildrenOperations"),f=a("./DOMPropertyOperations"),g=a("./ReactMount"),h=a("./ReactPerf"),i=a("./invariant"),j={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},k={updatePropertyByID:h.measure("ReactDOMIDOperations","updatePropertyByID",function(a,b,c){var d=g.getNode(a);i(!j.hasOwnProperty(b),"updatePropertyByID(...): %s",j[b]),null!=c?f.setValueForProperty(d,b,c):f.deleteValueForProperty(d,b)}),deletePropertyByID:h.measure("ReactDOMIDOperations","deletePropertyByID",function(a,b,c){var d=g.getNode(a);i(!j.hasOwnProperty(b),"updatePropertyByID(...): %s",j[b]),f.deleteValueForProperty(d,b,c)}),updateStylesByID:h.measure("ReactDOMIDOperations","updateStylesByID",function(a,b){var c=g.getNode(a);d.setValueForStyles(c,b)}),updateInnerHTMLByID:h.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(a,b){var d=g.getNode(a);if(void 0===c){var e=document.createElement("div");e.innerHTML=" ",c=""===e.innerHTML}c&&d.parentNode.replaceChild(d,d),c&&b.match(/^[ \r\n\t\f]/)?(d.innerHTML="﻿"+b,d.firstChild.deleteData(0,1)):d.innerHTML=b}),updateTextContentByID:h.measure("ReactDOMIDOperations","updateTextContentByID",function(a,b){var c=g.getNode(a);e.updateTextContent(c,b)}),dangerouslyReplaceNodeWithMarkupByID:h.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(a,b){var c=g.getNode(a);e.dangerouslyReplaceNodeWithMarkup(c,b)}),dangerouslyProcessChildrenUpdates:h.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=g.getNode(a[c].parentID);e.processUpdates(a,b)})};b.exports=k},{"./CSSPropertyOperations":3,"./DOMChildrenOperations":7,"./DOMPropertyOperations":9,"./ReactMount":55,"./ReactPerf":60,"./invariant":112}],37:[function(a,b){"use strict";var c=a("./ReactBrowserComponentMixin"),d=a("./ReactCompositeComponent"),e=a("./ReactDOM"),f=a("./ReactEventEmitter"),g=a("./EventConstants"),h=e.img,i=d.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[c],render:function(){return h(this.props)},componentDidMount:function(){var a=this.getDOMNode();f.trapBubbledEvent(g.topLevelTypes.topLoad,"load",a),f.trapBubbledEvent(g.topLevelTypes.topError,"error",a)}});b.exports=i},{"./EventConstants":14,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactEventEmitter":48}],38:[function(a,b){"use strict";var c=a("./AutoFocusMixin"),d=a("./DOMPropertyOperations"),e=a("./LinkedValueUtils"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactCompositeComponent"),h=a("./ReactDOM"),i=a("./ReactMount"),j=a("./invariant"),k=a("./merge"),l=h.input,m={},n=g.createClass({displayName:"ReactDOMInput",mixins:[c,e.Mixin,f],getInitialState:function(){var a=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=a?a:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var a=k(this.props);a.defaultChecked=null,a.defaultValue=null;var b=e.getValue(this);a.value=null!=b?b:this.state.value;var c=e.getChecked(this);return a.checked=null!=c?c:this.state.checked,a.onChange=this._handleChange,l(a,this.props.children)},componentDidMount:function(){var a=i.getID(this.getDOMNode());m[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),b=i.getID(a);delete m[b]},componentDidUpdate:function(){var a=this.getDOMNode();null!=this.props.checked&&d.setValueForProperty(a,"checked",this.props.checked||!1);var b=e.getValue(this);null!=b&&d.setValueForProperty(a,"value",""+b)},_handleChange:function(a){var b,c=e.getOnChange(this);c&&(this._isChanging=!0,b=c.call(this,a),this._isChanging=!1),this.setState({checked:a.target.checked,value:a.target.value});
var d=this.props.name;if("radio"===this.props.type&&null!=d){for(var f=this.getDOMNode(),g=f;g.parentNode;)g=g.parentNode;for(var h=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),k=0,l=h.length;l>k;k++){var n=h[k];if(n!==f&&n.form===f.form){var o=i.getID(n);j(o,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var p=m[o];j(p,"ReactDOMInput: Unknown radio button ID %s.",o),p.setState({checked:!1})}}}return b}});b.exports=n},{"./AutoFocusMixin":1,"./DOMPropertyOperations":9,"./LinkedValueUtils":21,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactMount":55,"./invariant":112,"./merge":121}],39:[function(a,b){"use strict";var c=a("./ReactBrowserComponentMixin"),d=a("./ReactCompositeComponent"),e=a("./ReactDOM"),f=a("./warning"),g=e.option,h=d.createClass({displayName:"ReactDOMOption",mixins:[c],componentWillMount:function(){f(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return g(this.props,this.props.children)}});b.exports=h},{"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./warning":134}],40:[function(a,b){"use strict";function c(a,b){null!=a[b]&&(a.multiple?j(Array.isArray(a[b]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.",b):j(!Array.isArray(a[b]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.",b))}function d(a,b){var c,d,e,f=a.props.multiple,g=null!=b?b:a.state.value,h=a.getDOMNode().options;if(f)for(c={},d=0,e=g.length;e>d;++d)c[""+g[d]]=!0;else c=""+g;for(d=0,e=h.length;e>d;d++){var i=f?c.hasOwnProperty(h[d].value):h[d].value===c;i!==h[d].selected&&(h[d].selected=i)}}var e=a("./AutoFocusMixin"),f=a("./LinkedValueUtils"),g=a("./ReactBrowserComponentMixin"),h=a("./ReactCompositeComponent"),i=a("./ReactDOM"),j=a("./invariant"),k=a("./merge"),l=i.select,m=h.createClass({displayName:"ReactDOMSelect",mixins:[e,f.Mixin,g],propTypes:{defaultValue:c,value:c},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(a){!this.props.multiple&&a.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!a.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var a=k(this.props);return a.onChange=this._handleChange,a.value=null,l(a,this.props.children)},componentDidMount:function(){d(this,f.getValue(this))},componentDidUpdate:function(){var a=f.getValue(this);null!=a&&d(this,a)},_handleChange:function(a){var b,c=f.getOnChange(this);c&&(this._isChanging=!0,b=c.call(this,a),this._isChanging=!1);var d;if(this.props.multiple){d=[];for(var e=a.target.options,g=0,h=e.length;h>g;g++)e[g].selected&&d.push(e[g].value)}else d=a.target.value;return this.setState({value:d}),b}});b.exports=m},{"./AutoFocusMixin":1,"./LinkedValueUtils":21,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./invariant":112,"./merge":121}],41:[function(a,b){"use strict";function c(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function d(a){var b=window.getSelection();if(0===b.rangeCount)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,g=b.getRangeAt(0),h=g.toString().length,i=g.cloneRange();i.selectNodeContents(a),i.setEnd(g.startContainer,g.startOffset);var j=i.toString().length,k=j+h,l=document.createRange();l.setStart(c,d),l.setEnd(e,f);var m=l.collapsed;return l.detach(),{start:m?k:j,end:m?j:k}}function e(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function f(a,b){var c=window.getSelection(),d=a[h()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var i=f;f=e,e=i}var j=g(a,e),k=g(a,f);if(j&&k){var l=document.createRange();l.setStart(j.node,j.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),c.addRange(l)),l.detach()}}var g=a("./getNodeForCharacterOffset"),h=a("./getTextContentAccessor"),i={getOffsets:function(a){var b=document.selection?c:d;return b(a)},setOffsets:function(a,b){var c=document.selection?e:f;c(a,b)}};b.exports=i},{"./getNodeForCharacterOffset":106,"./getTextContentAccessor":108}],42:[function(a,b){"use strict";var c=a("./AutoFocusMixin"),d=a("./DOMPropertyOperations"),e=a("./LinkedValueUtils"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactCompositeComponent"),h=a("./ReactDOM"),i=a("./invariant"),j=a("./merge"),k=a("./warning"),l=h.textarea,m=g.createClass({displayName:"ReactDOMTextarea",mixins:[c,e.Mixin,f],getInitialState:function(){var a=this.props.defaultValue,b=this.props.children;null!=b&&(k(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),i(null==a,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(b)&&(i(b.length<=1,"<textarea> can only have at most one child."),b=b[0]),a=""+b),null==a&&(a="");var c=e.getValue(this);return{initialValue:""+(null!=c?c:a),value:a}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var a=j(this.props),b=e.getValue(this);return i(null==a.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a.defaultValue=null,a.value=null!=b?b:this.state.value,a.onChange=this._handleChange,l(a,this.state.initialValue)},componentDidUpdate:function(){var a=e.getValue(this);if(null!=a){var b=this.getDOMNode();d.setValueForProperty(b,"value",""+a)}},_handleChange:function(a){var b,c=e.getOnChange(this);return c&&(this._isChanging=!0,b=c.call(this,a),this._isChanging=!1),this.setState({value:a.target.value}),b}});b.exports=m},{"./AutoFocusMixin":1,"./DOMPropertyOperations":9,"./LinkedValueUtils":21,"./ReactBrowserComponentMixin":25,"./ReactCompositeComponent":29,"./ReactDOM":32,"./invariant":112,"./merge":121,"./warning":134}],43:[function(a,b){"use strict";function c(){this.reinitializeTransaction()}var d=a("./ReactUpdates"),e=a("./Transaction"),f=a("./emptyFunction"),g=a("./mixInto"),h={initialize:f,close:function(){l.isBatchingUpdates=!1}},i={initialize:f,close:d.flushBatchedUpdates.bind(d)},j=[i,h];g(c,e.Mixin),g(c,{getTransactionWrappers:function(){return j}});var k=new c,l={isBatchingUpdates:!1,batchedUpdates:function(a,b){var c=l.isBatchingUpdates;l.isBatchingUpdates=!0,c?a(b):k.perform(a,null,b)}};b.exports=l},{"./ReactUpdates":71,"./Transaction":85,"./emptyFunction":96,"./mixInto":124}],44:[function(a,b){"use strict";function c(){d.EventEmitter.injectTopLevelCallbackCreator(o),d.EventPluginHub.injectEventPluginOrder(j),d.EventPluginHub.injectInstanceHandle(x),d.EventPluginHub.injectMount(y),d.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:B,EnterLeaveEventPlugin:k,ChangeEventPlugin:g,CompositionEventPlugin:i,MobileSafariClickEventPlugin:l,SelectEventPlugin:z}),d.DOM.injectComponentClasses({button:q,form:r,img:s,input:t,option:u,select:v,textarea:w,html:D(p.html),head:D(p.head),title:D(p.title),body:D(p.body)}),d.CompositeComponent.injectMixin(m),d.DOMProperty.injectDOMPropertyConfig(f),d.Updates.injectBatchingStrategy(C),d.RootIndex.injectCreateReactRootIndex(e.canUseDOM?h.createReactRootIndex:A.createReactRootIndex),d.Component.injectEnvironment(n);var b=e.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(b)){var c=a("./ReactDefaultPerf");c.start()}}var d=a("./ReactInjection"),e=a("./ExecutionEnvironment"),f=a("./DefaultDOMPropertyConfig"),g=a("./ChangeEventPlugin"),h=a("./ClientReactRootIndex"),i=a("./CompositionEventPlugin"),j=a("./DefaultEventPluginOrder"),k=a("./EnterLeaveEventPlugin"),l=a("./MobileSafariClickEventPlugin"),m=a("./ReactBrowserComponentMixin"),n=a("./ReactComponentBrowserEnvironment"),o=a("./ReactEventTopLevelCallback"),p=a("./ReactDOM"),q=a("./ReactDOMButton"),r=a("./ReactDOMForm"),s=a("./ReactDOMImg"),t=a("./ReactDOMInput"),u=a("./ReactDOMOption"),v=a("./ReactDOMSelect"),w=a("./ReactDOMTextarea"),x=a("./ReactInstanceHandles"),y=a("./ReactMount"),z=a("./SelectEventPlugin"),A=a("./ServerReactRootIndex"),B=a("./SimpleEventPlugin"),C=a("./ReactDefaultBatchingStrategy"),D=a("./createFullPageComponent");b.exports={inject:c}},{"./ChangeEventPlugin":4,"./ClientReactRootIndex":5,"./CompositionEventPlugin":6,"./DefaultDOMPropertyConfig":11,"./DefaultEventPluginOrder":12,"./EnterLeaveEventPlugin":13,"./ExecutionEnvironment":20,"./MobileSafariClickEventPlugin":22,"./ReactBrowserComponentMixin":25,"./ReactComponentBrowserEnvironment":28,"./ReactDOM":32,"./ReactDOMButton":33,"./ReactDOMForm":35,"./ReactDOMImg":37,"./ReactDOMInput":38,"./ReactDOMOption":39,"./ReactDOMSelect":40,"./ReactDOMTextarea":42,"./ReactDefaultBatchingStrategy":43,"./ReactDefaultPerf":45,"./ReactEventTopLevelCallback":50,"./ReactInjection":51,"./ReactInstanceHandles":53,"./ReactMount":55,"./SelectEventPlugin":72,"./ServerReactRootIndex":73,"./SimpleEventPlugin":74,"./createFullPageComponent":92}],45:[function(a,b){"use strict";function c(a){return Math.floor(100*a)/100}var d=a("./DOMProperty"),e=a("./ReactDefaultPerfAnalysis"),f=a("./ReactMount"),g=a("./ReactPerf"),h=a("./performanceNow"),i={_allMeasurements:[],_injected:!1,start:function(){i._injected||g.injection.injectMeasure(i.measure),i._allMeasurements.length=0,g.enableMeasure=!0},stop:function(){g.enableMeasure=!1},getLastMeasurements:function(){return i._allMeasurements},printExclusive:function(a){a=a||i._allMeasurements;var b=e.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":c(a.inclusive),"Total exclusive time (ms)":c(a.exclusive),"Exclusive time per instance (ms)":c(a.exclusive/a.count),Instances:a.count}})),console.log("Total time:",e.getTotalTime(a).toFixed(2)+" ms")},printInclusive:function(a){a=a||i._allMeasurements;var b=e.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":c(a.time),Instances:a.count}})),console.log("Total time:",e.getTotalTime(a).toFixed(2)+" ms")},printWasted:function(a){a=a||i._allMeasurements;var b=e.getInclusiveSummary(a,!0);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})),console.log("Total time:",e.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||i._allMeasurements;var b=e.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[d.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",e.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=i._allMeasurements[i._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){var d,e,g,j=Array.prototype.slice.call(arguments,0);if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return i._allMeasurements.push({exclusive:{},inclusive:{},counts:{},writes:{},displayNames:{},totalTime:0}),g=h(),e=c.apply(this,j),i._allMeasurements[i._allMeasurements.length-1].totalTime=h()-g,e;if("ReactDOMIDOperations"===a||"ReactComponentBrowserEnvironment"===a){if(g=h(),e=c.apply(this,j),d=h()-g,"mountImageIntoNode"===b){var k=f.getID(j[1]);i._recordWrite(k,b,d,j[0])}else"dangerouslyProcessChildrenUpdates"===b?j[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=j[1][a.markupIndex]),i._recordWrite(a.parentID,a.type,d,b)}):i._recordWrite(j[0],b,d,Array.prototype.slice.call(j,1));return e}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,j);var l="mountComponent"===b?j[0]:this._rootNodeID,m="_renderValidatedComponent"===b,n=i._allMeasurements[i._allMeasurements.length-1];m&&(n.counts[l]=n.counts[l]||0,n.counts[l]+=1),g=h(),e=c.apply(this,j),d=h()-g;var o=m?n.exclusive:n.inclusive;return o[l]=o[l]||0,o[l]+=d,n.displayNames[l]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"},e}}};b.exports=i},{"./DOMProperty":8,"./ReactDefaultPerfAnalysis":46,"./ReactMount":55,"./ReactPerf":60,"./performanceNow":129}],46:[function(a,b){function c(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function d(a){for(var b=[],c=0;c<a.length;c++){var d,e=a[c];for(d in e.writes)e.writes[d].forEach(function(a){b.push({id:d,type:j[a.type]||a.type,args:a.args})})}return b}function e(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=h(e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,count:0},e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var j=[];for(b in c)c[b].exclusive>=i&&j.push(c[b]);return j.sort(function(a,b){return b.exclusive-a.exclusive}),j}function f(a,b){for(var c,d={},e=0;e<a.length;e++){var f,j=a[e],k=h(j.exclusive,j.inclusive);b&&(f=g(j));for(var l in k)if(!b||f[l]){var m=j.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},j.inclusive[l]&&(d[c].time+=j.inclusive[l]),j.counts[l]&&(d[c].count+=j.counts[l])}}var n=[];for(c in d)d[c].time>=i&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function g(a){var b={},c=Object.keys(a.writes),d=h(a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}!f&&a.counts[e]>0&&(b[e]=!0)}return b}var h=a("./merge"),i=1.2,j={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},k={getExclusiveSummary:e,getInclusiveSummary:f,getDOMSummary:d,getTotalTime:c};b.exports=k},{"./merge":121}],47:[function(a,b){"use strict";var c={guard:function(a){return a}};b.exports=c},{}],48:[function(a,b){"use strict";function c(a){return null==a[t]&&(a[t]=r++,p[a[t]]={}),p[a[t]]}function d(a,b,c){g.listen(c,b,u.TopLevelCallbackCreator.createTopLevelCallback(a))}function e(a,b,c){g.capture(c,b,u.TopLevelCallbackCreator.createTopLevelCallback(a))}var f=a("./EventConstants"),g=a("./EventListener"),h=a("./EventPluginHub"),i=a("./EventPluginRegistry"),j=a("./ExecutionEnvironment"),k=a("./ReactEventEmitterMixin"),l=a("./ViewportMetrics"),m=a("./invariant"),n=a("./isEventSupported"),o=a("./merge"),p={},q=!1,r=0,s={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},t="_reactListenersID"+String(Math.random()).slice(2),u=o(k,{TopLevelCallbackCreator:null,injection:{injectTopLevelCallbackCreator:function(a){u.TopLevelCallbackCreator=a}},setEnabled:function(a){m(j.canUseDOM,"setEnabled(...): Cannot toggle event listening in a Worker thread. This is likely a bug in the framework. Please report immediately."),u.TopLevelCallbackCreator&&u.TopLevelCallbackCreator.setEnabled(a)},isEnabled:function(){return!(!u.TopLevelCallbackCreator||!u.TopLevelCallbackCreator.isEnabled())},listenTo:function(a,b){for(var g=b,h=c(g),j=i.registrationNameDependencies[a],k=f.topLevelTypes,l=0,m=j.length;m>l;l++){var o=j[l];if(!h[o]){var p=k[o];p===k.topWheel?n("wheel")?d(k.topWheel,"wheel",g):n("mousewheel")?d(k.topWheel,"mousewheel",g):d(k.topWheel,"DOMMouseScroll",g):p===k.topScroll?n("scroll",!0)?e(k.topScroll,"scroll",g):d(k.topScroll,"scroll",window):p===k.topFocus||p===k.topBlur?(n("focus",!0)?(e(k.topFocus,"focus",g),e(k.topBlur,"blur",g)):n("focusin")&&(d(k.topFocus,"focusin",g),d(k.topBlur,"focusout",g)),h[k.topBlur]=!0,h[k.topFocus]=!0):s[o]&&d(p,s[o],g),h[o]=!0}}},ensureScrollValueMonitoring:function(){if(!q){var a=l.refreshScrollValues;g.listen(window,"scroll",a),g.listen(window,"resize",a),q=!0}},eventNameDispatchConfigs:h.eventNameDispatchConfigs,registrationNameModules:h.registrationNameModules,putListener:h.putListener,getListener:h.getListener,deleteListener:h.deleteListener,deleteAllListeners:h.deleteAllListeners,trapBubbledEvent:d,trapCapturedEvent:e});b.exports=u},{"./EventConstants":14,"./EventListener":15,"./EventPluginHub":16,"./EventPluginRegistry":17,"./ExecutionEnvironment":20,"./ReactEventEmitterMixin":49,"./ViewportMetrics":86,"./invariant":112,"./isEventSupported":113,"./merge":121}],49:[function(a,b){"use strict";function c(a){d.enqueueEvents(a),d.processEventQueue()}var d=a("./EventPluginHub"),e=a("./ReactUpdates"),f={handleTopLevel:function(a,b,f,g){var h=d.extractEvents(a,b,f,g);e.batchedUpdates(c,h)}};b.exports=f},{"./EventPluginHub":16,"./ReactUpdates":71}],50:[function(a,b){"use strict";function c(a){var b=i.getID(a),c=h.getReactRootIDFromNodeID(b),d=i.findReactContainerForID(c),e=i.getFirstReactDOM(d);return e}function d(a,b,d){for(var e=i.getFirstReactDOM(j(b))||window,f=e;f;)d.ancestors.push(f),f=c(f);for(var h=0,k=d.ancestors.length;k>h;h++){e=d.ancestors[h];var l=i.getID(e)||"";g.handleTopLevel(a,e,l,b)}}function e(){this.ancestors=[]}var f=a("./PooledClass"),g=a("./ReactEventEmitter"),h=a("./ReactInstanceHandles"),i=a("./ReactMount"),j=a("./getEventTarget"),k=a("./mixInto"),l=!0;k(e,{destructor:function(){this.ancestors.length=0}}),f.addPoolingTo(e);var m={setEnabled:function(a){l=!!a},isEnabled:function(){return l},createTopLevelCallback:function(a){return function(b){if(l){var c=e.getPooled();try{d(a,b,c)}finally{e.release(c)}}}}};b.exports=m},{"./PooledClass":23,"./ReactEventEmitter":48,"./ReactInstanceHandles":53,"./ReactMount":55,"./getEventTarget":104,"./mixInto":124}],51:[function(a,b){"use strict";var c=a("./DOMProperty"),d=a("./EventPluginHub"),e=a("./ReactComponent"),f=a("./ReactCompositeComponent"),g=a("./ReactDOM"),h=a("./ReactEventEmitter"),i=a("./ReactPerf"),j=a("./ReactRootIndex"),k=a("./ReactUpdates"),l={Component:e.injection,CompositeComponent:f.injection,DOMProperty:c.injection,EventPluginHub:d.injection,DOM:g.injection,EventEmitter:h.injection,Perf:i.injection,RootIndex:j.injection,Updates:k.injection};b.exports=l},{"./DOMProperty":8,"./EventPluginHub":16,"./ReactComponent":27,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactEventEmitter":48,"./ReactPerf":60,"./ReactRootIndex":67,"./ReactUpdates":71}],52:[function(a,b){"use strict";function c(a){return e(document.documentElement,a)}var d=a("./ReactDOMSelection"),e=a("./containsNode"),f=a("./focusNode"),g=a("./getActiveElement"),h={hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=g();return{focusedElem:a,selectionRange:h.hasSelectionCapabilities(a)?h.getSelection(a):null}},restoreSelection:function(a){var b=g(),d=a.focusedElem,e=a.selectionRange;b!==d&&c(d)&&(h.hasSelectionCapabilities(d)&&h.setSelection(d,e),f(d))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=d.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,e=b.end;if("undefined"==typeof e&&(e=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",e-c),f.select()}else d.setOffsets(a,b)}};b.exports=h},{"./ReactDOMSelection":41,"./containsNode":89,"./focusNode":100,"./getActiveElement":102}],53:[function(a,b){"use strict";function c(a){return m+a.toString(36)}function d(a,b){return a.charAt(b)===m||b===a.length}function e(a){return""===a||a.charAt(0)===m&&a.charAt(a.length-1)!==m}function f(a,b){return 0===b.indexOf(a)&&d(b,a.length)}function g(a){return a?a.substr(0,a.lastIndexOf(m)):""}function h(a,b){if(l(e(a)&&e(b),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,b),l(f(a,b),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,b),a===b)return a;for(var c=a.length+n,g=c;g<b.length&&!d(b,g);g++);return b.substr(0,g)}function i(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var f=0,g=0;c>=g;g++)if(d(a,g)&&d(b,g))f=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,f);return l(e(h),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",a,b,h),h}function j(a,b,c,d,e,i){a=a||"",b=b||"",l(a!==b,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",a);var j=f(b,a);l(j||f(a,b),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",a,b);for(var k=0,m=j?g:h,n=a;;n=m(n,b)){var p;if(e&&n===a||i&&n===b||(p=c(n,j,d)),p===!1||n===b)break;l(k++<o,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",a,b)}}var k=a("./ReactRootIndex"),l=a("./invariant"),m=".",n=m.length,o=100,p={createReactRootID:function(){return c(k.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===m&&a.length>1){var b=a.indexOf(m,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=i(a,b);f!==a&&j(a,f,c,d,!1,!0),f!==b&&j(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(j("",a,b,c,!0,!1),j(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){j("",a,b,c,!0,!1)},_getFirstCommonAncestorID:i,_getNextDescendantID:h,isAncestorIDOf:f,SEPARATOR:m};b.exports=p},{"./ReactRootIndex":67,"./invariant":112}],54:[function(a,b){"use strict";var c=a("./adler32"),d={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=c(a);return a.replace(">"," "+d.CHECKSUM_ATTR_NAME+'="'+b+'">')},canReuseMarkup:function(a,b){var e=b.getAttribute(d.CHECKSUM_ATTR_NAME);e=e&&parseInt(e,10);var f=c(a);return f===e}};b.exports=d},{"./adler32":88}],55:[function(a,b){"use strict";function c(a){var b=q(a);return b&&E.getID(b)}function d(a){var b=e(a);if(b)if(w.hasOwnProperty(b)){var c=w[b];c!==a&&(s(!h(c,b),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",v,b),w[b]=a)}else w[b]=a;return b}function e(a){return a&&a.getAttribute&&a.getAttribute(v)||""}function f(a,b){var c=e(a);c!==b&&delete w[c],a.setAttribute(v,b),w[b]=a}function g(a){return w.hasOwnProperty(a)&&h(w[a],a)||(w[a]=E.findReactNodeByID(a)),w[a]}function h(a,b){if(a){s(e(a)===b,"ReactMount: Unexpected modification of `%s`",v);var c=E.findReactContainerForID(b);if(c&&p(c,a))return!0}return!1}function i(a){delete w[a]}function j(a){var b=w[a];return b&&h(b,a)?void(D=b):!1}function k(a){D=null,n.traverseAncestors(a,j);var b=D;return D=null,b}var l=a("./DOMProperty"),m=a("./ReactEventEmitter"),n=a("./ReactInstanceHandles"),o=a("./ReactPerf"),p=a("./containsNode"),q=a("./getReactRootElementInContainer"),r=a("./instantiateReactComponent"),s=a("./invariant"),t=a("./shouldUpdateReactComponent"),u=n.SEPARATOR,v=l.ID_ATTRIBUTE_NAME,w={},x=1,y=9,z={},A={},B={},C=[],D=null,E={totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:!1,_instancesByReactRootID:z,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,d,e){var f=b.props;return E.scrollMonitor(d,function(){a.replaceProps(f,e)}),B[c(d)]=q(d),a},_registerComponent:function(a,b){s(b&&(b.nodeType===x||b.nodeType===y),"_registerComponent(...): Target container is not a DOM element."),m.ensureScrollValueMonitoring();var c=E.registerContainer(b);return z[c]=a,c},_renderNewRootComponent:o.measure("ReactMount","_renderNewRootComponent",function(a,b,c){var d=r(a),e=E._registerComponent(d,b);return d.mountComponentIntoNode(e,b,c),B[e]=q(b),d}),renderComponent:function(a,b,d){var e=z[c(b)];if(e){if(t(e,a))return E._updateRootComponent(e,a,b,d);E.unmountComponentAtNode(b)}var f=q(b),g=f&&E.isRenderedByReact(f),h=g&&!e,i=E._renderNewRootComponent(a,b,h);return d&&d.call(i),i},constructAndRenderComponent:function(a,b,c){return E.renderComponent(a(b),c)},constructAndRenderComponentByID:function(a,b,c){var d=document.getElementById(c);return s(d,'Tried to get element with id of "%s" but it is not present on the page.',c),E.constructAndRenderComponent(a,b,d)},registerContainer:function(a){var b=c(a);return b&&(b=n.getReactRootIDFromNodeID(b)),b||(b=n.createReactRootID()),A[b]=a,b},unmountComponentAtNode:function(a){var b=c(a),d=z[b];return d?(E.unmountComponentFromNode(d,a),delete z[b],delete A[b],delete B[b],!0):!1},unmountComponentFromNode:function(a,b){for(a.unmountComponent(),b.nodeType===y&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)},findReactContainerForID:function(a){var b=n.getReactRootIDFromNodeID(a),c=A[b],d=B[b];if(d&&d.parentNode!==c){s(e(d)===b,"ReactMount: Root element ID differed from reactRootID.");var f=c.firstChild;f&&b===e(f)?B[b]=f:console.warn("ReactMount: Root element has been removed from its original container. New container:",d.parentNode)}return c},findReactNodeByID:function(a){var b=E.findReactContainerForID(a);return E.findComponentRoot(b,a)},isRenderedByReact:function(a){if(1!==a.nodeType)return!1;var b=E.getID(a);return b?b.charAt(0)===u:!1},getFirstReactDOM:function(a){for(var b=a;b&&b.parentNode!==b;){if(E.isRenderedByReact(b))return b;b=b.parentNode}return null},findComponentRoot:function(a,b){var c=C,d=0,e=k(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=E.getID(g);h?b===h?f=g:n.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,s(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables or nesting <p> or <a> tags. Try inspecting the child nodes of the element with React ID `%s`.",b,E.getID(a))},getReactRootID:c,getID:d,setID:f,getNode:g,purgeID:i};b.exports=E},{"./DOMProperty":8,"./ReactEventEmitter":48,"./ReactInstanceHandles":53,"./ReactPerf":60,"./containsNode":89,"./getReactRootElementInContainer":107,"./instantiateReactComponent":111,"./invariant":112,"./shouldUpdateReactComponent":131}],56:[function(a,b){"use strict";function c(a){this._queue=a||null}var d=a("./PooledClass"),e=a("./mixInto");e(c,{enqueue:function(a,b){this._queue=this._queue||[],this._queue.push({component:a,callback:b})},notifyAll:function(){var a=this._queue;if(a){this._queue=null;for(var b=0,c=a.length;c>b;b++){var d=a[b].component,e=a[b].callback;e.call(d)}a.length=0}},reset:function(){this._queue=null},destructor:function(){this.reset()}}),d.addPoolingTo(c),b.exports=c},{"./PooledClass":23,"./mixInto":124}],57:[function(a,b){"use strict";function c(a,b,c){o.push({parentID:a,parentNode:null,type:j.INSERT_MARKUP,markupIndex:p.push(b)-1,textContent:null,fromIndex:null,toIndex:c})}function d(a,b,c){o.push({parentID:a,parentNode:null,type:j.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:b,toIndex:c})}function e(a,b){o.push({parentID:a,parentNode:null,type:j.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:b,toIndex:null})}function f(a,b){o.push({parentID:a,parentNode:null,type:j.TEXT_CONTENT,markupIndex:null,textContent:b,fromIndex:null,toIndex:null})}function g(){o.length&&(i.BackendIDOperations.dangerouslyProcessChildrenUpdates(o,p),h())}function h(){o.length=0,p.length=0}var i=a("./ReactComponent"),j=a("./ReactMultiChildUpdateTypes"),k=a("./flattenChildren"),l=a("./instantiateReactComponent"),m=a("./shouldUpdateReactComponent"),n=0,o=[],p=[],q={Mixin:{mountChildren:function(a,b){var c=k(a),d=[],e=0;this._renderedChildren=c;for(var f in c){var g=c[f];if(c.hasOwnProperty(f)){var h=l(g);c[f]=h;var i=this._rootNodeID+f,j=h.mountComponent(i,b,this._mountDepth+1);h._mountIndex=e,d.push(j),e++}}return d},updateTextContent:function(a){n++;var b=!0;try{var c=this._renderedChildren;for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setTextContent(a),b=!1}finally{n--,n||(b?h():g())}},updateChildren:function(a,b){n++;var c=!0;try{this._updateChildren(a,b),c=!1}finally{n--,n||(c?h():g())}},_updateChildren:function(a,b){var c=k(a),d=this._renderedChildren;if(c||d){var e,f=0,g=0;for(e in c)if(c.hasOwnProperty(e)){var h=d&&d[e],i=c[e];if(m(h,i))this.moveChild(h,g,f),f=Math.max(h._mountIndex,f),h.receiveComponent(i,b),h._mountIndex=g;else{h&&(f=Math.max(h._mountIndex,f),this._unmountChildByName(h,e));var j=l(i);this._mountChildByNameAtIndex(j,e,g,b)}g++}for(e in d)!d.hasOwnProperty(e)||c&&c[e]||this._unmountChildByName(d[e],e)}},unmountChildren:function(){var a=this._renderedChildren;for(var b in a){var c=a[b];c.unmountComponent&&c.unmountComponent()}this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&d(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){c(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){e(this._rootNodeID,a._mountIndex)},setTextContent:function(a){f(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d){var e=this._rootNodeID+b,f=a.mountComponent(e,d,this._mountDepth+1);a._mountIndex=c,this.createChild(a,f),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[b]=a},_unmountChildByName:function(a,b){i.isValidComponent(a)&&(this.removeChild(a),a._mountIndex=null,a.unmountComponent(),delete this._renderedChildren[b])}}};b.exports=q},{"./ReactComponent":27,"./ReactMultiChildUpdateTypes":58,"./flattenChildren":99,"./instantiateReactComponent":111,"./shouldUpdateReactComponent":131}],58:[function(a,b){"use strict";var c=a("./keyMirror"),d=c({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});b.exports=d},{"./keyMirror":118}],59:[function(a,b){"use strict";var c=a("./emptyObject"),d=a("./invariant"),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){d(e.isValidOwner(c),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){d(e.isValidOwner(c),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),c.refs[b]===a&&c.detachRef(b)
},Mixin:{construct:function(){this.refs=c},attachRef:function(a,b){d(b.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",a);var e=this.refs===c?this.refs={}:this.refs;e[a]=b},detachRef:function(a){delete this.refs[a]}}};b.exports=e},{"./emptyObject":97,"./invariant":112}],60:[function(a,b){"use strict";function c(a,b,c){return c}var d={enableMeasure:!1,storedMeasure:c,measure:function(a,b,c){var e=null;return function(){return d.enableMeasure?(e||(e=d.storedMeasure(a,b,c)),e.apply(this,arguments)):c.apply(this,arguments)}},injection:{injectMeasure:function(a){d.storedMeasure=a}}};b.exports=d},{}],61:[function(a,b){"use strict";function c(a){return function(b,c,d){b[c]=b.hasOwnProperty(c)?a(b[c],d):d}}var d=a("./emptyFunction"),e=a("./invariant"),f=a("./joinClasses"),g=a("./merge"),h={children:d,className:c(f),key:d,ref:d,style:c(g)},i={TransferStrategies:h,mergeProps:function(a,b){var c=g(a);for(var d in b)if(b.hasOwnProperty(d)){var e=h[d];e&&h.hasOwnProperty(d)?e(c,d,b[d]):c.hasOwnProperty(d)||(c[d]=b[d])}return c},Mixin:{transferPropsTo:function(a){return e(a._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,a.constructor.displayName),a.props=i.mergeProps(a.props,this.props),a}}};b.exports=i},{"./emptyFunction":96,"./invariant":112,"./joinClasses":117,"./merge":121}],62:[function(a,b){"use strict";var c={};c={prop:"prop",context:"context",childContext:"child context"},b.exports=c},{}],63:[function(a,b){"use strict";var c=a("./keyMirror"),d=c({prop:null,context:null,childContext:null});b.exports=d},{"./keyMirror":118}],64:[function(a,b){"use strict";function c(a){switch(typeof a){case"number":case"string":return!0;case"object":if(Array.isArray(a))return a.every(c);if(o.isValidComponent(a))return!0;for(var b in a)if(!c(a[b]))return!1;return!0;default:return!1}}function d(a){var b=typeof a;return"object"===b&&Array.isArray(a)?"array":b}function e(){function a(){return!0}return n(a)}function f(a){function b(b,c,e,f,g){var h=d(c),i=h===a;return b&&q(i,"Invalid %s `%s` of type `%s` supplied to `%s`, expected `%s`.",p[g],e,h,f,a),i}return n(b)}function g(a){function b(a,b,d,e,f){var g=c[b];return a&&q(g,"Invalid %s `%s` supplied to `%s`, expected one of %s.",p[f],d,e,JSON.stringify(Object.keys(c))),g}var c=r(a);return n(b)}function h(a){function b(b,c,e,f,g){var h=d(c),i="object"===h;if(i)for(var j in a){var k=a[j];if(k&&!k(c,j,f,g))return!1}return b&&q(i,"Invalid %s `%s` of type `%s` supplied to `%s`, expected `object`.",p[g],e,h,f),i}return n(b)}function i(a){function b(b,c,d,e,f){var g=c instanceof a;return b&&q(g,"Invalid %s `%s` supplied to `%s`, expected instance of `%s`.",p[f],d,e,a.name||t),g}return n(b)}function j(a){function b(b,c,d,e,f){var g=Array.isArray(c);if(g)for(var h=0;h<c.length;h++)if(!a(c,h,e,f))return!1;return b&&q(g,"Invalid %s `%s` supplied to `%s`, expected an array.",p[f],d,e),g}return n(b)}function k(){function a(a,b,d,e,f){var g=c(b);return a&&q(g,"Invalid %s `%s` supplied to `%s`, expected a renderable prop.",p[f],d,e),g}return n(a)}function l(){function a(a,b,c,d,e){var f=o.isValidComponent(b);return a&&q(f,"Invalid %s `%s` supplied to `%s`, expected a React component.",p[e],c,d),f}return n(a)}function m(a){return function(b,c,d,e){for(var f=!1,g=0;g<a.length;g++){var h=a[g];if("function"==typeof h.weak&&(h=h.weak),h(b,c,d,e)){f=!0;break}}return q(f,"Invalid %s `%s` supplied to `%s`.",p[e],c,d||t),f}}function n(a){function b(b,c,d,e,f,g){var h=d[e];if(null!=h)return a(c,h,e,f||t,g);var i=!b;return c&&q(i,"Required %s `%s` was not specified in `%s`.",p[g],e,f||t),i}var c=b.bind(null,!1,!0);return c.weak=b.bind(null,!1,!1),c.isRequired=b.bind(null,!0,!0),c.weak.isRequired=b.bind(null,!0,!1),c.isRequired.weak=c.weak.isRequired,c}var o=a("./ReactComponent"),p=a("./ReactPropTypeLocationNames"),q=a("./warning"),r=a("./createObjectFrom"),s={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),shape:h,oneOf:g,oneOfType:m,arrayOf:j,instanceOf:i,renderable:k(),component:l(),any:e()},t="<<anonymous>>";b.exports=s},{"./ReactComponent":27,"./ReactPropTypeLocationNames":62,"./createObjectFrom":94,"./warning":134}],65:[function(a,b){"use strict";function c(){this.listenersToPut=[]}var d=a("./PooledClass"),e=a("./ReactEventEmitter"),f=a("./mixInto");f(c,{enqueuePutListener:function(a,b,c){this.listenersToPut.push({rootNodeID:a,propKey:b,propValue:c})},putListeners:function(){for(var a=0;a<this.listenersToPut.length;a++){var b=this.listenersToPut[a];e.putListener(b.rootNodeID,b.propKey,b.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),d.addPoolingTo(c),b.exports=c},{"./PooledClass":23,"./ReactEventEmitter":48,"./mixInto":124}],66:[function(a,b){"use strict";function c(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=g.getPooled(null),this.putListenerQueue=h.getPooled()}var d=a("./PooledClass"),e=a("./ReactEventEmitter"),f=a("./ReactInputSelection"),g=a("./ReactMountReady"),h=a("./ReactPutListenerQueue"),i=a("./Transaction"),j=a("./mixInto"),k={initialize:f.getSelectionInformation,close:f.restoreSelection},l={initialize:function(){var a=e.isEnabled();return e.setEnabled(!1),a},close:function(a){e.setEnabled(a)}},m={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},n={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},o=[n,k,l,m],p={getTransactionWrappers:function(){return o},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){g.release(this.reactMountReady),this.reactMountReady=null,h.release(this.putListenerQueue),this.putListenerQueue=null}};j(c,i.Mixin),j(c,p),d.addPoolingTo(c),b.exports=c},{"./PooledClass":23,"./ReactEventEmitter":48,"./ReactInputSelection":52,"./ReactMountReady":56,"./ReactPutListenerQueue":65,"./Transaction":85,"./mixInto":124}],67:[function(a,b){"use strict";var c={injectCreateReactRootIndex:function(a){d.createReactRootIndex=a}},d={createReactRootIndex:null,injection:c};b.exports=d},{}],68:[function(a,b){"use strict";function c(a){j(e.isValidComponent(a),"renderComponentToString(): You must pass a valid ReactComponent."),j(!(2===arguments.length&&"function"==typeof arguments[1]),"renderComponentToString(): This function became synchronous and now returns the generated markup. Please remove the second parameter.");var b;try{var c=f.createReactRootID();return b=h.getPooled(!1),b.perform(function(){var d=i(a),e=d.mountComponent(c,b,0);return g.addChecksumToMarkup(e)},null)}finally{h.release(b)}}function d(a){j(e.isValidComponent(a),"renderComponentToStaticMarkup(): You must pass a valid ReactComponent.");var b;try{var c=f.createReactRootID();return b=h.getPooled(!0),b.perform(function(){var d=i(a);return d.mountComponent(c,b,0)},null)}finally{h.release(b)}}var e=a("./ReactComponent"),f=a("./ReactInstanceHandles"),g=a("./ReactMarkupChecksum"),h=a("./ReactServerRenderingTransaction"),i=a("./instantiateReactComponent"),j=a("./invariant");b.exports={renderComponentToString:c,renderComponentToStaticMarkup:d}},{"./ReactComponent":27,"./ReactInstanceHandles":53,"./ReactMarkupChecksum":54,"./ReactServerRenderingTransaction":69,"./instantiateReactComponent":111,"./invariant":112}],69:[function(a,b){"use strict";function c(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=e.getPooled(null),this.putListenerQueue=f.getPooled()}var d=a("./PooledClass"),e=a("./ReactMountReady"),f=a("./ReactPutListenerQueue"),g=a("./Transaction"),h=a("./emptyFunction"),i=a("./mixInto"),j={initialize:function(){this.reactMountReady.reset()},close:h},k={initialize:function(){this.putListenerQueue.reset()},close:h},l=[k,j],m={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,f.release(this.putListenerQueue),this.putListenerQueue=null}};i(c,g.Mixin),i(c,m),d.addPoolingTo(c),b.exports=c},{"./PooledClass":23,"./ReactMountReady":56,"./ReactPutListenerQueue":65,"./Transaction":85,"./emptyFunction":96,"./mixInto":124}],70:[function(a,b){"use strict";var c=a("./DOMPropertyOperations"),d=a("./ReactBrowserComponentMixin"),e=a("./ReactComponent"),f=a("./escapeTextForBrowser"),g=a("./mixInto"),h=function(a){this.construct({text:a})};h.ConvenienceConstructor=function(a){return new h(a.text)},g(h,e.Mixin),g(h,d),g(h,{mountComponent:function(a,b,d){e.Mixin.mountComponent.call(this,a,b,d);var g=f(this.props.text);return b.renderToStaticMarkup?g:"<span "+c.createMarkupForID(a)+">"+g+"</span>"},receiveComponent:function(a){var b=a.props;b.text!==this.props.text&&(this.props.text=b.text,e.BackendIDOperations.updateTextContentByID(this._rootNodeID,b.text))}}),h.type=h,h.prototype.type=h,b.exports=h},{"./DOMPropertyOperations":9,"./ReactBrowserComponentMixin":25,"./ReactComponent":27,"./escapeTextForBrowser":98,"./mixInto":124}],71:[function(a,b){"use strict";function c(){j(l,"ReactUpdates: must inject a batching strategy")}function d(a,b){c(),l.batchedUpdates(a,b)}function e(a,b){return a._mountDepth-b._mountDepth}function f(){k.sort(e);for(var a=0;a<k.length;a++){var b=k[a];if(b.isMounted()){var c=b._pendingCallbacks;if(b._pendingCallbacks=null,b.performUpdateIfNecessary(),c)for(var d=0;d<c.length;d++)c[d].call(b)}}}function g(){k.length=0}function h(a,b){return j(!b||"function"==typeof b,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),c(),l.isBatchingUpdates?(k.push(a),void(b&&(a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b]))):(a.performUpdateIfNecessary(),void(b&&b.call(a)))}var i=a("./ReactPerf"),j=a("./invariant"),k=[],l=null,m=i.measure("ReactUpdates","flushBatchedUpdates",function(){try{f()}finally{g()}}),n={injectBatchingStrategy:function(a){j(a,"ReactUpdates: must provide a batching strategy"),j("function"==typeof a.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),j("boolean"==typeof a.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),l=a}},o={batchedUpdates:d,enqueueUpdate:h,flushBatchedUpdates:m,injection:n};b.exports=o},{"./ReactPerf":60,"./invariant":112}],72:[function(a,b){"use strict";function c(a){if("selectionStart"in a&&g.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(document.selection){var b=document.selection.createRange();return{parentElement:b.parentElement(),text:b.text,top:b.boundingTop,left:b.boundingLeft}}var c=window.getSelection();return{anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}}function d(a){if(!r&&null!=o&&o==i()){var b=c(o);if(!q||!l(q,b)){q=b;var d=h.getPooled(n.select,p,a);return d.type="select",d.target=o,f.accumulateTwoPhaseDispatches(d),d}}}var e=a("./EventConstants"),f=a("./EventPropagators"),g=a("./ReactInputSelection"),h=a("./SyntheticEvent"),i=a("./getActiveElement"),j=a("./isTextInputElement"),k=a("./keyOf"),l=a("./shallowEqual"),m=e.topLevelTypes,n={select:{phasedRegistrationNames:{bubbled:k({onSelect:null}),captured:k({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},o=null,p=null,q=null,r=!1,s={eventTypes:n,extractEvents:function(a,b,c,e){switch(a){case m.topFocus:(j(b)||"true"===b.contentEditable)&&(o=b,p=c,q=null);break;case m.topBlur:o=null,p=null,q=null;break;case m.topMouseDown:r=!0;break;case m.topContextMenu:case m.topMouseUp:return r=!1,d(e);case m.topSelectionChange:case m.topKeyDown:case m.topKeyUp:return d(e)}}};b.exports=s},{"./EventConstants":14,"./EventPropagators":19,"./ReactInputSelection":52,"./SyntheticEvent":78,"./getActiveElement":102,"./isTextInputElement":115,"./keyOf":119,"./shallowEqual":130}],73:[function(a,b){"use strict";var c=Math.pow(2,53),d={createReactRootIndex:function(){return Math.ceil(Math.random()*c)}};b.exports=d},{}],74:[function(a,b){"use strict";var c=a("./EventConstants"),d=a("./EventPluginUtils"),e=a("./EventPropagators"),f=a("./SyntheticClipboardEvent"),g=a("./SyntheticEvent"),h=a("./SyntheticFocusEvent"),i=a("./SyntheticKeyboardEvent"),j=a("./SyntheticMouseEvent"),k=a("./SyntheticDragEvent"),l=a("./SyntheticTouchEvent"),m=a("./SyntheticUIEvent"),n=a("./SyntheticWheelEvent"),o=a("./invariant"),p=a("./keyOf"),q=c.topLevelTypes,r={blur:{phasedRegistrationNames:{bubbled:p({onBlur:!0}),captured:p({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:p({onClick:!0}),captured:p({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:p({onContextMenu:!0}),captured:p({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:p({onCopy:!0}),captured:p({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:p({onCut:!0}),captured:p({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:p({onDoubleClick:!0}),captured:p({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:p({onDrag:!0}),captured:p({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:p({onDragEnd:!0}),captured:p({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:p({onDragEnter:!0}),captured:p({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:p({onDragExit:!0}),captured:p({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:p({onDragLeave:!0}),captured:p({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:p({onDragOver:!0}),captured:p({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:p({onDragStart:!0}),captured:p({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:p({onDrop:!0}),captured:p({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:p({onFocus:!0}),captured:p({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:p({onInput:!0}),captured:p({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:p({onKeyDown:!0}),captured:p({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:p({onKeyPress:!0}),captured:p({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:p({onKeyUp:!0}),captured:p({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:p({onLoad:!0}),captured:p({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:p({onError:!0}),captured:p({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:p({onMouseDown:!0}),captured:p({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:p({onMouseMove:!0}),captured:p({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:p({onMouseOut:!0}),captured:p({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:p({onMouseOver:!0}),captured:p({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:p({onMouseUp:!0}),captured:p({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:p({onPaste:!0}),captured:p({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:p({onReset:!0}),captured:p({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:p({onScroll:!0}),captured:p({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:p({onSubmit:!0}),captured:p({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:p({onTouchCancel:!0}),captured:p({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:p({onTouchEnd:!0}),captured:p({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:p({onTouchMove:!0}),captured:p({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:p({onTouchStart:!0}),captured:p({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:p({onWheel:!0}),captured:p({onWheelCapture:!0})}}},s={topBlur:r.blur,topClick:r.click,topContextMenu:r.contextMenu,topCopy:r.copy,topCut:r.cut,topDoubleClick:r.doubleClick,topDrag:r.drag,topDragEnd:r.dragEnd,topDragEnter:r.dragEnter,topDragExit:r.dragExit,topDragLeave:r.dragLeave,topDragOver:r.dragOver,topDragStart:r.dragStart,topDrop:r.drop,topError:r.error,topFocus:r.focus,topInput:r.input,topKeyDown:r.keyDown,topKeyPress:r.keyPress,topKeyUp:r.keyUp,topLoad:r.load,topMouseDown:r.mouseDown,topMouseMove:r.mouseMove,topMouseOut:r.mouseOut,topMouseOver:r.mouseOver,topMouseUp:r.mouseUp,topPaste:r.paste,topReset:r.reset,topScroll:r.scroll,topSubmit:r.submit,topTouchCancel:r.touchCancel,topTouchEnd:r.touchEnd,topTouchMove:r.touchMove,topTouchStart:r.touchStart,topWheel:r.wheel};for(var t in s)s[t].dependencies=[t];var u={eventTypes:r,executeDispatch:function(a,b,c){var e=d.executeDispatch(a,b,c);e===!1&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(a,b,c,d){var p=s[a];if(!p)return null;var r;switch(a){case q.topInput:case q.topLoad:case q.topError:case q.topReset:case q.topSubmit:r=g;break;case q.topKeyDown:case q.topKeyPress:case q.topKeyUp:r=i;break;case q.topBlur:case q.topFocus:r=h;break;case q.topClick:if(2===d.button)return null;case q.topContextMenu:case q.topDoubleClick:case q.topMouseDown:case q.topMouseMove:case q.topMouseOut:case q.topMouseOver:case q.topMouseUp:r=j;break;case q.topDrag:case q.topDragEnd:case q.topDragEnter:case q.topDragExit:case q.topDragLeave:case q.topDragOver:case q.topDragStart:case q.topDrop:r=k;break;case q.topTouchCancel:case q.topTouchEnd:case q.topTouchMove:case q.topTouchStart:r=l;break;case q.topScroll:r=m;break;case q.topWheel:r=n;break;case q.topCopy:case q.topCut:case q.topPaste:r=f}o(r,"SimpleEventPlugin: Unhandled event type, `%s`.",a);var t=r.getPooled(p,c,d);return e.accumulateTwoPhaseDispatches(t),t}};b.exports=u},{"./EventConstants":14,"./EventPluginUtils":18,"./EventPropagators":19,"./SyntheticClipboardEvent":75,"./SyntheticDragEvent":77,"./SyntheticEvent":78,"./SyntheticFocusEvent":79,"./SyntheticKeyboardEvent":80,"./SyntheticMouseEvent":81,"./SyntheticTouchEvent":82,"./SyntheticUIEvent":83,"./SyntheticWheelEvent":84,"./invariant":112,"./keyOf":119}],75:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticEvent"),e={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};d.augmentClass(c,e),b.exports=c},{"./SyntheticEvent":78}],76:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticEvent"),e={data:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticEvent":78}],77:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticMouseEvent"),e={dataTransfer:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticMouseEvent":81}],78:[function(a,b){"use strict";function c(a,b,c){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var d=this.constructor.Interface;for(var f in d)if(d.hasOwnProperty(f)){var g=d[f];this[f]=g?g(c):c[f]}var h=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;this.isDefaultPrevented=h?e.thatReturnsTrue:e.thatReturnsFalse,this.isPropagationStopped=e.thatReturnsFalse}var d=a("./PooledClass"),e=a("./emptyFunction"),f=a("./getEventTarget"),g=a("./merge"),h=a("./mergeInto"),i={type:null,target:f,currentTarget:e.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=e.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=e.thatReturnsTrue},persist:function(){this.isPersistent=e.thatReturnsTrue},isPersistent:e.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),c.Interface=i,c.augmentClass=function(a,b){var c=this,e=Object.create(c.prototype);h(e,a.prototype),a.prototype=e,a.prototype.constructor=a,a.Interface=g(c.Interface,b),a.augmentClass=c.augmentClass,d.addPoolingTo(a,d.threeArgumentPooler)},d.addPoolingTo(c,d.threeArgumentPooler),b.exports=c},{"./PooledClass":23,"./emptyFunction":96,"./getEventTarget":104,"./merge":121,"./mergeInto":123}],79:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticUIEvent"),e={relatedTarget:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticUIEvent":83}],80:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticUIEvent"),e=a("./getEventKey"),f={key:e,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,"char":null,charCode:null,keyCode:null,which:null};d.augmentClass(c,f),b.exports=c},{"./SyntheticUIEvent":83,"./getEventKey":103}],81:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticUIEvent"),e=a("./ViewportMetrics"),f={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+e.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+e.currentScrollTop}};d.augmentClass(c,f),b.exports=c},{"./SyntheticUIEvent":83,"./ViewportMetrics":86}],82:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticUIEvent"),e={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticUIEvent":83}],83:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticEvent"),e={view:null,detail:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticEvent":78}],84:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a("./SyntheticMouseEvent"),e={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};d.augmentClass(c,e),b.exports=c},{"./SyntheticMouseEvent":81}],85:[function(a,b){"use strict";var c=a("./invariant"),d={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this.timingMetrics||(this.timingMetrics={}),this.timingMetrics.methodInvocationTime=0,this.timingMetrics.wrapperInitTimes?this.timingMetrics.wrapperInitTimes.length=0:this.timingMetrics.wrapperInitTimes=[],this.timingMetrics.wrapperCloseTimes?this.timingMetrics.wrapperCloseTimes.length=0:this.timingMetrics.wrapperCloseTimes=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,d,e,f,g,h,i){c(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var j,k,l=Date.now();try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,d,e,f,g,h,i),j=!1}finally{var m=Date.now();this.methodInvocationTime+=m-l;try{if(j)try{this.closeAll(0)}catch(n){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=this.timingMetrics.wrapperInitTimes,d=a;d<b.length;d++){var f=Date.now(),g=b[d];try{this.wrapperInitData[d]=e.OBSERVED_ERROR,this.wrapperInitData[d]=g.initialize?g.initialize.call(this):null}finally{var h=c[d],i=Date.now();if(c[d]=(h||0)+(i-f),this.wrapperInitData[d]===e.OBSERVED_ERROR)try{this.initializeAll(d+1)}catch(j){}}}},closeAll:function(a){c(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var b=this.transactionWrappers,d=this.timingMetrics.wrapperCloseTimes,f=a;f<b.length;f++){var g,h=b[f],i=Date.now(),j=this.wrapperInitData[f];try{g=!0,j!==e.OBSERVED_ERROR&&h.close&&h.close.call(this,j),g=!1}finally{var k=Date.now(),l=d[f];if(d[f]=(l||0)+(k-i),g)try{this.closeAll(f+1)}catch(m){}}}this.wrapperInitData.length=0}},e={Mixin:d,OBSERVED_ERROR:{}};b.exports=e},{"./invariant":112}],86:[function(a,b){"use strict";var c=a("./getUnboundedScrollPosition"),d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var a=c(window);d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};b.exports=d},{"./getUnboundedScrollPosition":109}],87:[function(a,b){"use strict";function c(a,b){if(d(null!=b,"accumulate(...): Accumulated items must be not be null or undefined."),null==a)return b;var c=Array.isArray(a),e=Array.isArray(b);return c?a.concat(b):e?[a].concat(b):[a,b]}var d=a("./invariant");b.exports=c},{"./invariant":112}],88:[function(a,b){"use strict";function c(a){for(var b=1,c=0,e=0;e<a.length;e++)b=(b+a.charCodeAt(e))%d,c=(c+b)%d;return b|c<<16}var d=65521;b.exports=c},{}],89:[function(a,b){function c(a,b){return a&&b?a===b?!0:d(a)?!1:d(b)?c(a,b.parentNode):a.contains?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}var d=a("./isTextNode");b.exports=c},{"./isTextNode":116}],90:[function(a,b){function c(a,b,c,d,e,f,g){if(a=a||{},g)throw new Error("Too many arguments passed to copyProperties");for(var h,i=[b,c,d,e,f],j=0;i[j];){h=i[j++];for(var k in h)a[k]=h[k];h.hasOwnProperty&&h.hasOwnProperty("toString")&&"undefined"!=typeof h.toString&&a.toString!==h.toString&&(a.toString=h.toString)}return a}b.exports=c},{}],91:[function(a,b){function c(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function d(a){return c(a)?Array.isArray(a)?a.slice():e(a):[a]}var e=a("./toArray");b.exports=d},{"./toArray":132}],92:[function(a,b){"use strict";function c(a){var b=d.createClass({displayName:"ReactFullPageComponent"+(a.componentConstructor.displayName||""),componentWillUnmount:function(){e(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return this.transferPropsTo(a(null,this.props.children))}});return b}var d=a("./ReactCompositeComponent"),e=a("./invariant");b.exports=c},{"./ReactCompositeComponent":29,"./invariant":112}],93:[function(a,b){function c(a){var b=a.match(j);return b&&b[1].toLowerCase()}function d(a,b){var d=i;h(!!i,"createNodesFromMarkup dummy not initialized");var e=c(a),j=e&&g(e);if(j){d.innerHTML=j[1]+a+j[2];for(var k=j[0];k--;)d=d.lastChild}else d.innerHTML=a;var l=d.getElementsByTagName("script");l.length&&(h(b,"createNodesFromMarkup(...): Unexpected <script> element rendered."),f(l).forEach(b));for(var m=f(d.childNodes);d.lastChild;)d.removeChild(d.lastChild);return m}var e=a("./ExecutionEnvironment"),f=a("./createArrayFrom"),g=a("./getMarkupWrap"),h=a("./invariant"),i=e.canUseDOM?document.createElement("div"):null,j=/^\s*<(\w+)/;b.exports=d},{"./ExecutionEnvironment":20,"./createArrayFrom":91,"./getMarkupWrap":105,"./invariant":112}],94:[function(a,b){function c(a,b){if(!Array.isArray(a))throw new TypeError("Must pass an array of keys.");var c={},d=Array.isArray(b);"undefined"==typeof b&&(b=!0);for(var e=a.length;e--;)c[a[e]]=d?b[e]:b;return c}b.exports=c},{}],95:[function(a,b){"use strict";function c(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var e=isNaN(b);return e||0===b||d.isUnitlessNumber[a]?""+b:b+"px"}var d=a("./CSSProperty");b.exports=c},{"./CSSProperty":2}],96:[function(a,b){function c(a){return function(){return a}}function d(){}var e=a("./copyProperties");e(d,{thatReturns:c,thatReturnsFalse:c(!1),thatReturnsTrue:c(!0),thatReturnsNull:c(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(a){return a}}),b.exports=d},{"./copyProperties":90}],97:[function(a,b){"use strict";var c={};Object.freeze(c),b.exports=c},{}],98:[function(a,b){"use strict";function c(a){return e[a]}function d(a){return(""+a).replace(f,c)}var e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},f=/[&><"'\/]/g;b.exports=d},{}],99:[function(a,b){"use strict";function c(a,b,c){var d=a;e(!d.hasOwnProperty(c),"flattenChildren(...): Encountered two children with the same key, `%s`. Children keys must be unique.",c),null!=b&&(d[c]=b)}function d(a){if(null==a)return a;var b={};return f(a,c,b),b}var e=a("./invariant"),f=a("./traverseAllChildren");b.exports=d},{"./invariant":112,"./traverseAllChildren":133}],100:[function(a,b){"use strict";function c(a){a.disabled||a.focus()}b.exports=c},{}],101:[function(a,b){"use strict";var c=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=c},{}],102:[function(a,b){function c(){try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=c},{}],103:[function(a,b){"use strict";function c(a){return"key"in a?d[a.key]||a.key:e[a.which||a.keyCode]||"Unidentified"}var d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=c},{}],104:[function(a,b){"use strict";function c(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=c},{}],105:[function(a,b){function c(a){return e(!!f,"Markup wrapping node not initialized"),l.hasOwnProperty(a)||(a="*"),g.hasOwnProperty(a)||(f.innerHTML="*"===a?"<link />":"<"+a+"></"+a+">",g[a]=!f.firstChild),g[a]?l[a]:null}var d=a("./ExecutionEnvironment"),e=a("./invariant"),f=d.canUseDOM?document.createElement("div"):null,g={circle:!0,defs:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},h=[1,'<select multiple="true">',"</select>"],i=[1,"<table>","</table>"],j=[3,"<table><tbody><tr>","</tr></tbody></table>"],k=[1,"<svg>","</svg>"],l={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:h,option:h,caption:i,colgroup:i,tbody:i,tfoot:i,thead:i,td:j,th:j,circle:k,defs:k,g:k,line:k,linearGradient:k,path:k,polygon:k,polyline:k,radialGradient:k,rect:k,stop:k,text:k};b.exports=c},{"./ExecutionEnvironment":20,"./invariant":112}],106:[function(a,b){"use strict";function c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function e(a,b){for(var e=c(a),f=0,g=0;e;){if(3==e.nodeType){if(g=f+e.textContent.length,b>=f&&g>=b)return{node:e,offset:b-f};f=g}e=c(d(e))}}b.exports=e},{}],107:[function(a,b){"use strict";function c(a){return a?a.nodeType===d?a.documentElement:a.firstChild:null}var d=9;b.exports=c},{}],108:[function(a,b){"use strict";function c(){return!e&&d.canUseDOM&&(e="textContent"in document.createElement("div")?"textContent":"innerText"),e
}var d=a("./ExecutionEnvironment"),e=null;b.exports=c},{"./ExecutionEnvironment":20}],109:[function(a,b){"use strict";function c(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=c},{}],110:[function(a,b){function c(a){return a.replace(d,"-$1").toLowerCase()}var d=/([A-Z])/g;b.exports=c},{}],111:[function(a,b){"use strict";function c(a){return"function"==typeof a.constructor&&"function"==typeof a.constructor.prototype.construct&&"function"==typeof a.constructor.prototype.mountComponent&&"function"==typeof a.constructor.prototype.receiveComponent}function d(a){e(c(a),"Only React Components are valid for mounting.");var b=a.__realComponentInstance||a;return b._descriptor=a,b}var e=a("./warning");b.exports=d},{"./warning":134}],112:[function(a,b){"use strict";var c=function(a){if(!a){var b=new Error("Minified exception occured; use the non-minified dev environment for the full error message and additional helpful warnings.");throw b.framesToPop=1,b}};c=function(a,b,c,d,e,f,g,h){if(void 0===b)throw new Error("invariant requires an error message argument");if(!a){var i=[c,d,e,f,g,h],j=0,k=new Error("Invariant Violation: "+b.replace(/%s/g,function(){return i[j++]}));throw k.framesToPop=1,k}},b.exports=c},{}],113:[function(a,b){"use strict";function c(a,b){if(!e.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,f=c in document;if(!f){var g=document.createElement("div");g.setAttribute(c,"return;"),f="function"==typeof g[c]}return!f&&d&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0")),f}var d,e=a("./ExecutionEnvironment");e.canUseDOM&&(d=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=c},{"./ExecutionEnvironment":20}],114:[function(a,b){function c(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=c},{}],115:[function(a,b){"use strict";function c(a){return a&&("INPUT"===a.nodeName&&d[a.type]||"TEXTAREA"===a.nodeName)}var d={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=c},{}],116:[function(a,b){function c(a){return d(a)&&3==a.nodeType}var d=a("./isNode");b.exports=c},{"./isNode":114}],117:[function(a,b){"use strict";function c(a){a||(a="");var b,c=arguments.length;if(c>1)for(var d=1;c>d;d++)b=arguments[d],b&&(a+=" "+b);return a}b.exports=c},{}],118:[function(a,b){"use strict";var c=a("./invariant"),d=function(a){var b,d={};c(a instanceof Object&&!Array.isArray(a),"keyMirror(...): Argument must be an object.");for(b in a)a.hasOwnProperty(b)&&(d[b]=b);return d};b.exports=d},{"./invariant":112}],119:[function(a,b){var c=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=c},{}],120:[function(a,b){"use strict";function c(a){var b={};return function(c){return b.hasOwnProperty(c)?b[c]:b[c]=a.call(this,c)}}b.exports=c},{}],121:[function(a,b){"use strict";var c=a("./mergeInto"),d=function(a,b){var d={};return c(d,a),c(d,b),d};b.exports=d},{"./mergeInto":123}],122:[function(a,b){"use strict";var c=a("./invariant"),d=a("./keyMirror"),e=36,f=function(a){return"object"!=typeof a||null===a},g={MAX_MERGE_DEPTH:e,isTerminal:f,normalizeMergeArg:function(a){return void 0===a||null===a?{}:a},checkMergeArrayArgs:function(a,b){c(Array.isArray(a)&&Array.isArray(b),"Tried to merge arrays, instead got %s and %s.",a,b)},checkMergeObjectArgs:function(a,b){g.checkMergeObjectArg(a),g.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){c(!f(a)&&!Array.isArray(a),"Tried to merge an object, instead got %s.",a)},checkMergeLevel:function(a){c(e>a,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(a){c(void 0===a||a in g.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:d({Clobber:!0,IndexByIndex:!0})};b.exports=g},{"./invariant":112,"./keyMirror":118}],123:[function(a,b){"use strict";function c(a,b){if(e(a),null!=b){e(b);for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}var d=a("./mergeHelpers"),e=d.checkMergeObjectArg;b.exports=c},{"./mergeHelpers":122}],124:[function(a,b){"use strict";var c=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a.prototype[c]=b[c])};b.exports=c},{}],125:[function(a,b){"use strict";function c(a){d(a&&!/[^a-z0-9_]/.test(a),"You must provide an eventName using only the characters [a-z0-9_]")}var d=a("./invariant");b.exports=c},{"./invariant":112}],126:[function(a,b){"use strict";function c(a,b,c){if(!a)return null;var d=0,e={};for(var f in a)a.hasOwnProperty(f)&&(e[f]=b.call(c,a[f],f,d++));return e}b.exports=c},{}],127:[function(a,b){"use strict";function c(a,b,c){if(!a)return null;var d=0,e={};for(var f in a)a.hasOwnProperty(f)&&(e[f]=b.call(c,f,a[f],d++));return e}b.exports=c},{}],128:[function(a,b){"use strict";function c(a){return e(d.isValidComponent(a),"onlyChild must be passed a children with exactly one child."),a}var d=a("./ReactComponent"),e=a("./invariant");b.exports=c},{"./ReactComponent":27,"./invariant":112}],129:[function(a,b){"use strict";var c=a("./ExecutionEnvironment"),d=null;c.canUseDOM&&(d=window.performance||window.webkitPerformance),d&&d.now||(d=Date);var e=d.now.bind(d);b.exports=e},{"./ExecutionEnvironment":20}],130:[function(a,b){"use strict";function c(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}b.exports=c},{}],131:[function(a,b){"use strict";function c(a,b){if(a&&b&&a.constructor===b.constructor&&(a.props&&a.props.key)===(b.props&&b.props.key)){if(a._owner===b._owner)return!0;a.state&&console.warn("A recent change to React has been found to impact your code. A mounted component will now be unmounted and replaced by a component (of the same class) if their owners are different. Previously, ownership was not considered when updating.",a,b)}return!1}b.exports=c},{}],132:[function(a,b){function c(a){var b=a.length;if(d(!Array.isArray(a)&&("object"==typeof a||"function"==typeof a),"toArray: Array-like object expected"),d("number"==typeof b,"toArray: Object needs a length property"),d(0===b||b-1 in a,"toArray: Object should have keys for indices"),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var e=Array(b),f=0;b>f;f++)e[f]=a[f];return e}var d=a("./invariant");b.exports=c},{"./invariant":112}],133:[function(a,b){"use strict";function c(a){return m[a]}function d(a,b){return a&&a.props&&null!=a.props.key?f(a.props.key):b.toString(36)}function e(a){return(""+a).replace(n,c)}function f(a){return"$"+e(a)}function g(a,b,c){null!==a&&void 0!==a&&o(a,"",0,b,c)}var h=a("./ReactInstanceHandles"),i=a("./ReactTextComponent"),j=a("./invariant"),k=h.SEPARATOR,l=":",m={"=":"=0",".":"=1",":":"=2"},n=/[=.:]/g,o=function(a,b,c,e,g){var h=0;if(Array.isArray(a))for(var m=0;m<a.length;m++){var n=a[m],p=b+(b?l:k)+d(n,m),q=c+h;h+=o(n,p,q,e,g)}else{var r=typeof a,s=""===b,t=s?k+d(a,0):b;if(null==a||"boolean"===r)e(g,null,t,c),h=1;else if(a.type&&a.type.prototype&&a.type.prototype.mountComponentIntoNode)e(g,a,t,c),h=1;else if("object"===r){j(!a||1!==a.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");for(var u in a)a.hasOwnProperty(u)&&(h+=o(a[u],b+(b?l:k)+f(u)+l+d(a[u],0),c+h,e,g))}else if("string"===r){var v=new i(a);e(g,v,t,c),h+=1}else if("number"===r){var w=new i(""+a);e(g,w,t,c),h+=1}}return h};b.exports=g},{"./ReactInstanceHandles":53,"./ReactTextComponent":70,"./invariant":112}],134:[function(a,b){"use strict";var c=a("./emptyFunction"),d=c;d=function(a,b){var c=Array.prototype.slice.call(arguments,2);if(void 0===b)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!a){var d=0;console.warn("Warning: "+b.replace(/%s/g,function(){return c[d++]}))}},b.exports=d},{"./emptyFunction":96}]},{},[24])(24)}),function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a){Color=a("./color")},{"./color":2}],2:[function(a,b){var c=a("color-convert"),d=a("color-string");b.exports=function(a){return new e(a)};var e=function(a){if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof a){var b=d.getRgba(a);b?this.setValues("rgb",b):(b=d.getHsla(a))&&this.setValues("hsl",b)}else if("object"==typeof a){var b=a;void 0!==b.r||void 0!==b.red?this.setValues("rgb",b):void 0!==b.l||void 0!==b.lightness?this.setValues("hsl",b):void 0!==b.v||void 0!==b.value?this.setValues("hsv",b):(void 0!==b.c||void 0!==b.cyan)&&this.setValues("cmyk",b)}};e.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values.rgb;return a.concat([this.values.alpha])},hslaArray:function(){var a=this.values.hsl;return a.concat([this.values.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return d.hexString(this.values.rgb)},rgbString:function(){return d.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return d.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return d.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return d.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return d.hslaString(this.values.hsl,this.values.alpha)},keyword:function(){return d.keyword(this.values.rgb,this.values.alpha)},luminosity:function(){for(var a=this.values.rgb,b=[],c=0;c<a.length;c++){var d=a[c]/255;b[c]=.03928>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},dark:function(){var a=this.values.rgb,b=(299*a[0]+587*a[1]+114*a[2])/1e3;return 128>b},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;3>b;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){return this.values.hsl[2]+=this.values.hsl[2]*a,this.setValues("hsl",this.values.hsl),this},darken:function(a){return this.values.hsl[2]-=this.values.hsl[2]*a,this.setValues("hsl",this.values.hsl),this},saturate:function(a){return this.values.hsl[1]+=this.values.hsl[1]*a,this.setValues("hsl",this.values.hsl),this},desaturate:function(a){return this.values.hsl[1]-=this.values.hsl[1]*a,this.setValues("hsl",this.values.hsl),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){return this.setValues("alpha",this.values.alpha-this.values.alpha*a),this},opaquer:function(a){return this.setValues("alpha",this.values.alpha+this.values.alpha*a),this},rotate:function(a){var b=this.values.hsl[0];return b=(b+a)%360,b=0>b?360+b:b,this.values.hsl[0]=b,this.setValues("hsl",this.values.hsl),this},mix:function(a,b){b=1-(null==b?.5:b);for(var c=2*b-1,d=this.alpha()-a.alpha(),e=((c*d==-1?c:(c+d)/(1+c*d))+1)/2,f=1-e,g=this.rgbArray(),h=a.rgbArray(),i=0;i<g.length;i++)g[i]=g[i]*e+h[i]*f;this.setValues("rgb",g);var j=this.alpha()*b+a.alpha()*(1-b);return this.setValues("alpha",j),this},toJSON:function(){return this.rgb()}},e.prototype.getValues=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=this.values[a][c];return 1!=this.values.alpha&&(b.a=this.values.alpha),b},e.prototype.setValues=function(a,b){var d={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],cmyk:["cyan","magenta","yellow","black"]},e={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],cmyk:[100,100,100,100]},f=1;if("alpha"==a)f=b;else if(b.length)this.values[a]=b.slice(0,a.length),f=b[a.length];else if(void 0!==b[a[0]]){for(var g=0;g<a.length;g++)this.values[a][g]=b[a[g]];f=b.a}else if(void 0!==b[d[a][0]]){for(var h=d[a],g=0;g<a.length;g++)this.values[a][g]=b[h[g]];f=b.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==f?f:this.values.alpha)),"alpha"!=a){for(var i in d){i!=a&&(this.values[i]=c[a][i](this.values[a]));for(var g=0;g<i.length;g++){var j=Math.max(0,Math.min(e[i][g],this.values[i][g]));this.values[i][g]=Math.round(j)}}return!0}},e.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},e.prototype.setChannel=function(a,b,c){return void 0===c?this.values[a][b]:(this.values[a][b]=c,this.setValues(a,this.values[a]),this)}},{"color-convert":3,"color-string":4}],3:[function(a,b,c){var d=a("./conversions"),c={};b.exports=c;for(var e in d){c[e+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),d[a](b)}}(e);var f=/(\w+)2(\w+)/.exec(e),g=f[1],h=f[2];c[g]=c[g]||{},c[g][h]=c[e]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=d[a](b);if("string"==typeof c||void 0===c)return c;for(var e=0;e<c.length;e++)c[e]=Math.round(c[e]);return c}}(e)}},{"./conversions":5}],5:[function(a,b){function c(a){var b,c,d,e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=(h+i)/2,c=i==h?0:.5>=d?j/(i+h):j/(2-i-h),[b,100*c,100*d]}function d(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return c=0==i?0:j/i*1e3/10,i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=i/255*1e3/10,[b,c,d]}function e(a){var b,c,d,e,f=a[0]/255,g=a[1]/255,h=a[2]/255;return e=Math.min(1-f,1-g,1-h),b=(1-f-e)/(1-e),c=(1-g-e)/(1-e),d=(1-h-e)/(1-e),[100*b,100*c,100*d,100*e]}function f(a){return A[JSON.stringify(a)]}function g(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92;var e=.4124*b+.3576*c+.1805*d,f=.2126*b+.7152*c+.0722*d,g=.0193*b+.1192*c+.9505*d;return[100*e,100*f,100*g]}function h(a){var b,c,d,e=g(a),f=e[0],h=e[1],i=e[2];return f/=95.047,h/=100,i/=108.883,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,b=116*h-16,c=500*(f-h),d=200*(h-i),[b,c,d]}function i(a){var b,c,d,e,f,g=a[0]/360,h=a[1]/100,i=a[2]/100;if(0==h)return f=255*i,[f,f,f];c=.5>i?i*(1+h):i+h-i*h,b=2*i-c,e=[0,0,0];for(var j=0;3>j;j++)d=g+1/3*-(j-1),0>d&&d++,d>1&&d--,f=1>6*d?b+6*(c-b)*d:1>2*d?c:2>3*d?b+(c-b)*(2/3-d)*6:b,e[j]=255*f;return e}function j(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return f*=2,e*=1>=f?f:2-f,c=(f+e)/2,b=2*e/(f+e),[d,100*e,100*c]}function k(a){return e(i(a))}function l(a){return f(i(a))}function m(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f)),d=255*d;switch(e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function n(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return c=(2-e)*f,b=e*f,b/=1>=c?c:2-c,c/=2,[d,100*b,100*c]}function o(a){return e(m(a))}function p(a){return f(m(a))}function q(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100,h=a[3]/100;return b=1-Math.min(1,e*(1-h)+h),c=1-Math.min(1,f*(1-h)+h),d=1-Math.min(1,g*(1-h)+h),[255*b,255*c,255*d]}function r(a){return c(q(a))}function s(a){return d(q(a))}function t(a){return f(q(a))}function u(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100;return b=3.2406*e+-1.5372*f+g*-.4986,c=e*-.9689+1.8758*f+.0415*g,d=.0557*e+f*-.204+1.057*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=12.92*b,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=12.92*c,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d=12.92*d,b=0>b?0:b,c=0>c?0:c,d=0>d?0:d,[255*b,255*c,255*d]}function v(a){return z[a]}function w(a){return c(v(a))}function x(a){return d(v(a))}function y(a){return e(v(a))}b.exports={rgb2hsl:c,rgb2hsv:d,rgb2cmyk:e,rgb2keyword:f,rgb2xyz:g,rgb2lab:h,hsl2rgb:i,hsl2hsv:j,hsl2cmyk:k,hsl2keyword:l,hsv2rgb:m,hsv2hsl:n,hsv2cmyk:o,hsv2keyword:p,cmyk2rgb:q,cmyk2hsl:r,cmyk2hsv:s,cmyk2keyword:t,keyword2rgb:v,keyword2hsl:w,keyword2hsv:x,keyword2cmyk:y,xyz2rgb:u};var z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},A={};for(var B in z)A[JSON.stringify(z[B])]=B},{}],4:[function(a,b){function c(a){if(a){var b=/^#([a-fA-F0-9]{3})$/,c=/^#([a-fA-F0-9]{6})$/,d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/,e=/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/,f=/(\D+)/,g=[0,0,0],h=1,i=a.match(b);if(i){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i[j]+i[j],16)}else if(i=a.match(c)){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i.slice(2*j,2*j+2),16)}else if(i=a.match(d)){for(var j=0;j<g.length;j++)g[j]=parseInt(i[j+1]);h=parseFloat(i[4])}else if(i=a.match(e)){for(var j=0;j<g.length;j++)g[j]=Math.round(2.55*parseFloat(i[j+1]));h=parseFloat(i[4])}else if(i=a.match(f)){if("transparent"==i[1])return[0,0,0,0];if(g=r.keyword2rgb(i[1]),!g)return}for(var j=0;j<g.length;j++)g[j]=p(g[j],0,255);return h=h||0==h?p(h,0,1):1,g.push(h),g}}function d(a){if(a){var b=/^hsla?\(\s*(\d+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=p(parseInt(c[1]),0,360),e=p(parseFloat(c[2]),0,100),f=p(parseFloat(c[3]),0,100),g=p(parseFloat(c[4])||1,0,1);return[d,e,f,g]}}}function e(a){return c(a).slice(0,3)}function f(a){return d(a).slice(0,3)}function g(a){var b=c(a);return b?b[3]:(b=d(a))?b[3]:void 0}function h(a){return"#"+q(a[0])+q(a[1])+q(a[2])}function i(a,b){return 1>b||a[3]&&a[3]<1?j(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function j(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+b+")"}function k(a,b){if(1>b||a[3]&&a[3]<1)return l(a,b);var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgb("+c+"%, "+d+"%, "+e+"%)"}function l(a,b){var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgba("+c+"%, "+d+"%, "+e+"%, "+(b||a[3]||1)+")"}function m(a,b){return 1>b||a[3]&&a[3]<1?n(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"}function n(a,b){return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+(b||a[3]||1)+")"}function o(a){return r.rgb2keyword(a.slice(0,3))}function p(a,b,c){return Math.min(Math.max(b,a),c)}function q(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}var r=a("color-convert");b.exports={getRgba:c,getHsla:d,getRgb:e,getHsl:f,getAlpha:g,hexString:h,rgbString:i,rgbaString:j,percentString:k,percentaString:l,hslString:m,hslaString:n,keyword:o}},{"color-convert":3}]},{},[1]),function(a){var b={linear:function(a,b,c,d){return c*a/d+b},quadIn:function(a,b,c,d){return a/=d,c*a*a+b},quadOut:function(a,b,c,d){return a/=d,-c*a*(a-2)+b},quadInOut:function(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},cubeIn:function(a,b,c,d){return a/=d,c*a*a*a+b},cubeOut:function(a,b,c,d){return a/=d,a--,c*(a*a*a+1)+b},cubeInOut:function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)},quartIn:function(a,b,c,d){return a/=d,c*a*a*a*a+b},quartOut:function(a,b,c,d){return a/=d,a--,-c*(a*a*a*a-1)+b},quartInOut:function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a+b:(a-=2,-c/2*(a*a*a*a-2)+b)},quintIn:function(a,b,c,d){return a/=d,c*a*a*a*a*a+b},quintOut:function(a,b,c,d){return a/=d,a--,c*(a*a*a*a*a+1)+b},quintInOut:function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a*a+b:(a-=2,c/2*(a*a*a*a*a+2)+b)},sineIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},sineOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},sineInOut:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},expoIn:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},expoOut:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},expoInOut:function(a,b,c,d){return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b)},circIn:function(a,b,c,d){return a/=d,-c*(Math.sqrt(1-a*a)-1)+b},circOut:function(a,b,c,d){return a/=d,a--,c*Math.sqrt(1-a*a)+b},circInOut:function(a,b,c,d){return a/=d/2,1>a?-c/2*(Math.sqrt(1-a*a)-1)+b:(a-=2,c/2*(Math.sqrt(1-a*a)+1)+b)}},c={round:function(a){return Math.round(100*a)/100}};a.Tween=function(a,b,c,d,e){return this.startTime=Date.now(),this.startValue=a,this.distance=b,this.duration=c,this.animationType=d,this.loop=e,this},a.Tween.prototype.getValue=function(){if(this.expired())if(this.loop)if("repeat"===this.loop){this.startTime=Date.now();var a=b[this.animationType](Date.now()-this.startTime,this.startValue,this.distance,this.duration)}else{this.startValue=this.startValue+this.distance,this.distance=-this.distance,this.startTime=Date.now();var a=b[this.animationType](Date.now()-this.startTime,this.startValue,this.distance,this.duration)}else var a=this.startValue+this.distance;else var a=b[this.animationType](Date.now()-this.startTime,this.startValue,this.distance,this.duration);return c.round(a)},a.Tween.prototype.getStartTime=function(){return Date.now()-this.startTime-this.duration+Date.now()},a.Tween.prototype.expired=function(){return this.startTime+this.duration<Date.now()},a.Tween.prototype.set=function(a,b,c,d,e){return this.startValue="number"==typeof a?a:this.startValue,this.distance="number"==typeof b?b:this.distance,this.duration="number"==typeof c?c:this.duration,this.animationType=d||this.animationType,this.loop=e||this.loop,this},a.Tween.prototype.reset=function(){return this.startTime=Date.now(),this}}(window);var Point=function(a,b){this.x=a,this.y=b};Point.prototype=Object.create(null),Point.prototype.constructor=Point,Point.prototype.translate=function(a){return this.x+=a.x,this.y+=a.y,this};var Pixel=function(a,b,c,d,e,f,g){this.layer=a,this.x=b,this.y=c,this.r=d,this.g=e,this.b=f,this.a=g};Pixel.prototype=new Point,Pixel.prototype.constructor=Pixel,Pixel.fromArray=function(a){return new Pixel(a[0],a[1],a[2],a[3],a[4],a[5],a[6])},Pixel.toArray=function(a){return[a.layer,a.x,a.y,a.r,a.g,a.b,a.a]};var File=function(){function a(a){return{width:a[0],height:a[1]}}function b(a){return[a.width,a.height]}function c(a){return{x:a[0],y:a[1]}}function d(a){return[a.x,a.y]}function e(a){return{id:a[0],frame:a[1],name:a[2],z:a[3],opacity:a[4],visible:!!a[5]}}function f(a){return[a.id,a.frame,a.name,a.z,a.opacity,+a.visible]}function g(a){h.layers.reverse();for(var b=0,c=0;c<h.layers.length;c++)h.layers[c].frame==a&&(h.layers[c].z=b,b++);h.layers.reverse()}this.size=null,this.frames=null,this.layers=null,this.pixels=null;var h=this;this.getLayerById=function(a){return _.findWhere(this.layers,{id:a})||!1},this.deletePixelsOfLayer=function(a){this.pixels=this.pixels.filter(function(b){return b.layer!==a})},this.toJSONString=function(){var a={size:b(this.size),frames:d(this.frames),layers:this.layers.map(f),pixels:this.pixels.map(Pixel.toArray)};return JSON.stringify(a)},this.fromJSONString=function(b){b=JSON.parse(b),this.size=a(b.size),this.frames=c(b.frames),this.layers=b.layers.map(e),this.pixels=b.pixels.map(Pixel.fromArray),this.layers=_.sortBy(this.layers,"z").reverse(),channel.publish("file.load",{size:this.size,frames:this.frames})},channel.subscribe("file.layer.opacity.select",function(a){var b=h.getLayerById(a.layer);b.opacity=a.opacity}),channel.subscribe("file.layer.visibility.toggle",function(a){var b=h.getLayerById(a.layer);b.visible=a.visible}),channel.subscribe("file.layer.name.select",function(a){var b=h.getLayerById(a.layer);b.name=a.name}),channel.subscribe("file.layer.add",function(a){for(var b=0,c=0;c<h.layers.length;c++)if(h.layers[c].id===a.layer){b=c;break}var d=_.where(h.layers,{frame:editor.frame}),f=_.max(d,function(a){return a.z}).z+1,i=_.max(h.layers,function(a){return a.id}).id+1,j=e([i,editor.frame,"layer "+i,f,100,!0]);h.layers.splice(b,0,j),g(editor.frame),channel.publish("app.layer.add",{layer:i})}),channel.subscribe("file.layer.delete",function(a){h.deletePixelsOfLayer(a.layer);for(var b=0,c=0;c<h.layers.length;c++)if(h.layers[c].id===a.layer){b=c;break}for(var d=_.where(h.layers,{frame:editor.frame}),e=0,c=0;c<d.length;c++)if(d[c].id===a.layer){e=c;break}var f;f=_.isUndefined(d[e+1])?d[e-1].id:d[e+1].id,h.layers.splice(b,1),g(editor.frame),channel.publish("app.layer.delete",{layer:f})})},Stage=function(){return{frame:{refresh:function(a){var a=a||editor.frame;if(this.clear(),editor.pixels.forEach(function(a){stage.pixel.fill(a.layer,a.x,a.y,Color("rgba("+a.r+","+a.g+","+a.b+","+a.a+")"))}),editor.selection.pixels.length>0){var b=editor.layers.getIds();editor.selection.pixels.forEach(function(a){inArray(b,a.layer)&&stage.pixel.fill(a.layer,a.x,a.y,Color("rgba("+a.r+","+a.g+","+a.b+","+a.a+")"))})}},clear:function(){editor.layers.frame.forEach(function(a){var b=document.getElementById("StageBoxLayer-"+a.id);b.width=b.width})}},layer:{refresh:function(){var a=_.where(editor.pixels,{layer:editor.layers.selected}),b=_.where(editor.selection.pixels,{layer:editor.layers.selected});this.clear(),a.forEach(function(a){stage.pixel.fill(a.layer,a.x,a.y,Color("rgba("+a.r+","+a.g+","+a.b+","+a.a+")"))}),b.forEach(function(a){stage.pixel.fill(a.layer,a.x,a.y,Color("rgba("+a.r+","+a.g+","+a.b+","+a.a+")"))})},clear:function(){var a=document.getElementById("StageBoxLayer-"+editor.layers.selected);a.width=a.width}},pixel:{fill:function(a,b,c,d,e){var f=e||0==arguments.length?!0:!1,a=a||editor.layers.selected,b=b||editor.pixel.x,c=c||editor.pixel.y,d=d||editor.color,g=document.getElementById("StageBoxLayer-"+a).getContext("2d"),h=editor.zoom,i=b-1,j=c-1;g.fillStyle=d.hexString(),g.fillRect(i*h,j*h,h,h),f===!0&&channel.publish("stage.pixel.fill",{layer:a,x:b,y:c,color:d.hexString()})},clear:function(a,b,c){var d=0==arguments.length?!0:!1,a=a||editor.layers.selected,b=b||editor.pixel.x,c=c||editor.pixel.y,e=document.getElementById("StageBoxLayer-"+a).getContext("2d"),f=editor.zoom,g=b-1,h=c-1;e.clearRect(g*f,h*f,f,f),d===!0&&channel.publish("stage.pixel.clear",{layer:a,x:b,y:c})},lighten:function(a,b,c){if(0!=editor.layerPixelColor.alpha()){var d=changeColorLightness(editor.layerPixelColor,editor.brightnessTool.intensity);this.fill(a,b,c,d,!0),editor.layerPixelColor=d}},darken:function(a,b,c){if(0!=editor.layerPixelColor.alpha()){var d=changeColorLightness(editor.layerPixelColor,-editor.brightnessTool.intensity);this.fill(a,b,c,d,!0),editor.layerPixelColor=d}}}}},Editor=function(){var a=50,b=1,c=this;this.frame=1,this.lastFrame=1,this.frames={x:0,y:0},this.size={width:0,height:0},this.zoom=10,this.grid=!0,this.pixel=new Point(0,0),this.pixelColor=Color("#000000"),this.layerPixelColor=Color("#000000"),this.tool="BrushTool",this.color=Color("#000000"),this.offset={top:40,right:205,bottom:27,left:45},this.pixels=[],this.deletePixel=function(a,b,c){this.pixels=this.pixels.filter(function(d){return!(d.layer==a&&d.x==b&&d.y==c)})};var d=function(){var a=_.where(file.layers,{frame:c.frame}),b=[];return a.forEach(function(a){var c=_.where(file.pixels,{layer:a.id});b.push(c)}),_.flatten(b)},e=function(a){var b,d=[],e={top:1,right:file.size.width,bottom:file.size.height,left:1};
return c.selection.isActive&&(e={top:c.selection.start.y,right:c.selection.end.x,bottom:c.selection.end.y,left:c.selection.start.x}),b=new Point(a.x,a.y-1),b.y>=e.top&&d.push(b),b=new Point(a.x+1,a.y),b.x<=e.right&&d.push(b),b=new Point(a.x,a.y+1),b.y<=e.bottom&&d.push(b),b=new Point(a.x-1,a.y),b.x>=e.left&&d.push(b),d};this.saveChanges=function(){var a=this.layers.getIds(),b=this.pixels.slice(0);file.pixels.forEach(function(c){inArray(a,c.layer)||b.push(c)}),file.pixels=_.unique(b,function(a){return a.layer+","+a.x+","+a.y}),this.pixels=d()},this.layers.init(),this.selection.init(this),this.brightnessTool.init(),this.palettes.init(),channel.subscribe("file.load",function(a){c.size=a.size,c.frames=a.frames}),channel.subscribe("stage.grid.toggle",function(a){c.grid=a.grid}),channel.subscribe("app.frame.select",function(a){c.saveChanges(),c.frame=parseInt(a.frame),c.layers.selectTop(),c.pixels=d()}),channel.subscribe("app.tool.select",function(a){c.tool=a.tool}),channel.subscribe("app.color.select",function(a){c.color=new Color(a.color)}),channel.subscribe("stage.zoom.select",function(d){c.zoom=parseInt(d.zoom)||c.zoom,c.zoom=c.zoom>a?a:c.zoom,c.zoom=c.zoom<b?b:c.zoom}),channel.subscribe("app.pixel.select",function(a){c.pixel=a.point}),channel.subscribe("stage.pixel.clear",function(a){c.palettes.buildAuto(),c.deletePixel(a.layer,a.x,a.y),channel.publish("stage.layer.update",{layer:a.layer})}),channel.subscribe("stage.pixel.fill",function(a){c.palettes.available.sprite.colors.push(a.color),c.palettes.available.sprite.colors=_.uniq(c.palettes.available.sprite.colors,!1);var b=new Color(a.color),d=1,e=new Pixel(a.layer,a.x,a.y,b.red(),b.green(),b.blue(),d),f=_.findWhere(c.pixels,{layer:a.layer,x:a.x,y:a.y});if(_.isUndefined(f))c.pixels.push(e);else for(var g=0;g<c.pixels.length;g++){var h=c.pixels[g];if(h.layer==a.layer&&h.x==a.x&&h.y==a.y){h.r=b.red(),h.g=b.green(),h.b=b.blue(),h.a=d;break}}c.saveChanges(),channel.publish("stage.layer.update",{layer:a.layer})}),channel.subscribe("stage.tool.paintbucket",function(a){function b(a){h.push(a);var f,i,j=_.findWhere(c.pixels,{layer:c.layer,x:a.x,y:a.y});_.isUndefined(j)?(f=(new Color).rgb(0,0,0),f.alpha(0)):f=(new Color).rgb(j.r,j.g,j.b),f.rgbString()==d.rgbString()&&(stage.pixel.fill(c.layer,a.x,a.y,g,!0),i=e(a),i.forEach(function(a){var c=_.findWhere(h,{x:a.x,y:a.y});_.isUndefined(c)&&b(a)}))}var d,f=_.findWhere(c.pixels,{x:a.point.x,y:a.point.y,layer:c.layer}),g=c.color;_.isUndefined(f)&&(f={layer:c.layer,x:a.point.x,y:a.point.y,r:0,g:0,b:0,a:0}),d=new Color({r:f.r,g:f.g,b:f.b}),d.alpha(f.a);var h=[];b(f)}),channel.subscribe("stage.tool.move",function(a){c.selection.isActive?c.selection.pixels.forEach(function(b){var c=wrapPixel(b,a.distance);b.x=c.x,b.y=c.y}):c.pixels.forEach(function(b){if(b.layer==c.layer){var d=wrapPixel(b,a.distance);b.x=d.x,b.y=d.y}}),c.saveChanges()})};Editor.prototype={},Editor.prototype.constructor=Editor,Editor.prototype.layers={},Editor.prototype.layers.selected=null,Editor.prototype.layers.frame=[],Editor.prototype.layers.init=function(){var a=this;channel.subscribe("app.frame.select",function(b){a.frame=_.where(file.layers,{frame:b.frame})}),channel.subscribe("app.layer.select",function(b){a.selected=b.layer})},Editor.prototype.layers.getIds=function(){return _.pluck(this.frame,"id")},Editor.prototype.layers.selectTop=function(){var a=_.max(this.frame,function(a){return a.z});channel.publish("app.layer.select",{layer:a.id})},Editor.prototype.palettes={},Editor.prototype.palettes.selected="sprite",Editor.prototype.palettes.init=function(){var a=this;channel.subscribe("app.palette.select",function(b){a.selected=b.palette})},Editor.prototype.palettes.buildAuto=function(){var a=[];file.pixels.forEach(function(b){var c=Color().rgb(b.r,b.g,b.b).hexString();a.push(c)}),this.available.sprite.colors=_.uniq(a,!1)},Editor.prototype.palettes.available={sprite:{title:"Sprite colours","short":"Sprite",colors:[]},gameboy:{title:"Nintendo Gameboy","short":"GB",colors:["#9bbc0f","#8bac0f","#306230","#0f380f"]},teletext:{title:"Teletext","short":"TTX",colors:["#000000","#0000ff","#ff0000","#ff00ff","#00ff00","#00ffff","#ffff00","#ffffff"]},apple2:{title:"Apple II","short":"][",colors:["#000000","#6c2940","#403578","#d93cf0","#135740","#808080","#2697f0","#bfb4f8","#404b07","#d9680f","#eca8bf","#26c30f","#bfca87","#93d6bf","#ffffff"]},spectrum:{title:"Sinclair ZX Spectrum","short":"Spectrum",colors:["#000000","#0000c0","#0000ff","#c00000","#ff0000","#c000c0","#ff00ff","#00c000","#00ff00","#00c0c0","#00ffff","#c0c000","#ffff00","#c0c0c0","#ffffff"]},cga:{title:"Color Graphics Adapter","short":"CGA",colors:["#000000","#555555","#aaaaaa","#ffffff","#0000aa","#5555ff","#00aa00","#55ff55","#00aaaa","#55ffff","#aa0000","#ff5555","#aa00aa","#ff55ff","#aa5500","#ffff55"]},vic20:{title:"Commodore VIC-20","short":"VIC-20",colors:["#000000","#ffffff","#aa7449","#eab489","#782922","#b86962","#87d6dd","#c7ffff","#aa5fb6","#ea9ff6","#55a049","#94e089","#40318d","#8071cc","#bfce72","#ffffb2"]},c64:{title:"Commodore C=64","short":"C=64",colors:["#000000","#505050","#787878","#9f9f9f","#ffffff","#8b5429","#574200","#883932","#b86962","#67b6bd","#8b3f96","#40318d","#7869c4","#55a049","#94e089","#bfce72"]},amstrad:{title:"Amstrad CPC","short":"CPC",colors:["#000000","#008000","#00ff00","#000080","#008080","#00ff80","#0000ff","#0080ff","#00ffff","#800000","#808000","#80ff00","#800080","#808080","#80ff80","#8000ff","#8080ff","#80ffff","#ff0000","#ff8000","#ffff00","#ff0080","#ff8080","#ffff80","#ff00ff","#ff80ff","#ffffff"]},nes:{title:"Nintendo Entertainment System","short":"NES",colors:["#000000","#080808","#7c7c7c","#bcbcbc","#d8d8d8","#fcfcfc","#0000fc","#0078f8","#3cbcfc","#a4e4fc","#0000bc","#0058f8","#6888fc","#b8b8f8","#4428bc","#6844fc","#9878f8","#d8b8f8","#940084","#d800cc","#f878f8","#f8b8f8","#a80020","#e40058","#f85898","#f8a4c0","#a81000","#f83800","#f87858","#f0d0b0","#881400","#e45c10","#fca044","#fce0a8","#503000","#ac7c00","#f8b800","#f8d878","#007800","#00b800","#b8f818","#d8f878","#006800","#00a800","#58d854","#b8f8b8","#005800","#00a844","#58f898","#b8f8d8","#004058","#008888","#00e8d8","#00fcfc"]},mastersystem:{title:"Sega Master System","short":"Sega MS",colors:["#000000","#000055","#0000aa","#0000ff","#0055ff","#00aaff","#00ffff","#00ffaa","#00aaaa","#0055aa","#005555","#005500","#00aa00","#00aa55","#00ff55","#00ff00","#55ff00","#55ff55","#55aa55","#55aa00","#555500","#555555","#5555aa","#55aaaa","#55ffaa","#55ffff","#55aaff","#5555ff","#5500ff","#5500aa","#550055","#550000","#aa0000","#aa0055","#aa00aa","#aa00ff","#aa55ff","#aaaaff","#aaffff","#aaffaa","#aaaaaa","#aa55aa","#aa5555","#aa5500","#aaaa00","#aaaa55","#aaff55","#aaff00","#ffff00","#ffff55","#ffaa55","#ffaa00","#ff5500","#ff5555","#ff55aa","#ffaaaa","#ffffaa","#ffffff","#ffaaff","#ff55ff","#ff00ff","#ff00aa","#ff0055","#ff0000"]},atari2600:{title:"Atari 2600","short":"2600",colors:["#000000","#404040","#6c6c6c","#909090","#b0b0b0","#c8c8c8","#dcdcdc","#ececec","#444400","#646410","#848424","#a0a034","#b8b840","#d0d050","#e8e85c","#fcfc68","#702800","#844414","#985c28","#ac783c","#bc8c4c","#cca05c","#dcb468","#e8cc7b","#841800","#983418","#ac5030","#c06848","#d0805c","#e09470","#eca880","#fcbc94","#880000","#9c2020","#b03c3c","#c05858","#d07070","#e08888","#eca0a0","#fcb4b4","#78005c","#8c2074","#a03c88","#b0589c","#c070b0","#d084c0","#dc9cd0","#ecb0e0","#480078","#602090","#783ca4","#8c58b8","#a070cc","#b484dc","#c49cec","#d4b0fc","#140084","#302098","#4c3cac","#6858c0","#7c70d0","#9488e0","#a8a0ec","#bcb4fc","#000088","#1c209c","#3840b0","#505cc0","#6874d0","#7c8ce0","#90a4ec","#a4b8fc","#00187c","#1c3890","#3854a8","#5070bc","#6888cc","#7c9cdc","#90b4ec","#a4c8fc","#002c5c","#1c4c78","#386890","#5084ac","#689cc0","#7cb4d4","#90cce8","#a4e0fc","#00402c","#1c5c48","#387c64","#509c80","#68b494","#7cd0ac","#90e4c0","#a4fcd4","#003c00","#205c20","#407c40","#5c9c5c","#74b474","#8cd08c","#a4e4a4","#b8fcb8","#143800","#345c1c","#507c38","#6c9850","#84b468","#9ccc7c","#b4e490","#c8fca4","#2c3000","#4c501c","#687034","#848c4c","#9ca864","#b4c078","#ccd488","#e0ec9c","#442800","#644818","#846830","#a08444","#b89c58","#d0b46c","#e8cc7c","#fce08c"]}},Editor.prototype.selection={},Editor.prototype.selection.bounds=!1,Editor.prototype.selection.pixels=[],Editor.prototype.selection.init=function(a){function b(){d.pixels.forEach(function(b){a.pixels.push(b)}),a.pixels=_.unique(a.pixels,function(a){return a.layer+","+a.x+","+a.y}),d.pixels=[]}function c(b){return d.contains(b)&&b.layer==a.layers.selected}var d=this;channel.subscribe("app.tool.select",function(e){if(a.selection.isActive)switch(e.tool){case"RectangularSelectionTool":b();break;default:d.pixels=_.filter(a.pixels,c),a.pixels=_.reject(a.pixels,c)}}),channel.subscribe("stage.selection.start",function(a){d.bounds={start:a.point}}),channel.subscribe("stage.selection.end",function(a){if(d.bounds={start:d.bounds.start,end:a.point},d.bounds.start.x>d.bounds.end.x||d.bounds.start.y>d.bounds.end.y){var b=d.bounds.start;d.bounds.start=d.bounds.end,d.bounds.end=b}}),channel.subscribe("stage.selection.resize",function(a){d.bounds.cursor=a.point}),channel.subscribe("stage.selection.update",function(a){d.bounds.distance=a.distance}),channel.subscribe("stage.selection.move.bounds",function(a){d.bounds={start:new Point(d.bounds.start.x+a.distance.x,d.bounds.start.y+a.distance.y),end:new Point(d.bounds.end.x+a.distance.x,d.bounds.end.y+a.distance.y)}}),channel.subscribe("stage.selection.move.pixels",function(a){d.pixels.forEach(function(b){b.x+=a.distance.x,b.y+=a.distance.y})}),channel.subscribe("stage.selection.clear",function(){d.bounds=!1,b()})},Editor.prototype.selection.contains=function(a){return this.isActive?a.x>=this.bounds.start.x&&a.x<=this.bounds.end.x&&a.y>=this.bounds.start.y&&a.y<=this.bounds.end.y:void 0},Object.defineProperty(Editor.prototype.selection,"isActive",{enumerable:!0,configurable:!1,get:function(){return this.bounds.start instanceof Point&&this.bounds.end instanceof Point}}),Object.defineProperty(Editor.prototype.selection,"isResizing",{enumerable:!0,configurable:!1,get:function(){return this.bounds.start instanceof Point&&this.bounds.cursor instanceof Point}}),Object.defineProperty(Editor.prototype.selection,"isMoving",{enumerable:!0,configurable:!1,get:function(){return this.bounds.start instanceof Point&&this.bounds.end instanceof Point&&this.bounds.distance instanceof Point}}),Editor.prototype.brightnessTool={},Editor.prototype.brightnessTool.mode="lighten",Editor.prototype.brightnessTool.intensity=10,Editor.prototype.brightnessTool.init=function(){var a=this;channel.subscribe("app.brightnesstool.mode.select",function(b){a.mode=b.mode}),channel.subscribe("app.brightnesstool.intensity.select",function(b){a.intensity=b.intensity})};var Hotkeys=function(a){this.actions={selectBrushTool:{key:"b",action:function(){channel.publish("app.tool.select",{tool:"BrushTool"})}},selectEraserTool:{key:"e",action:function(){channel.publish("app.tool.select",{tool:"EraserTool"})}},selectEyedropperTool:{key:"i",action:function(){channel.publish("app.tool.select",{tool:"EyedropperTool"})}},selectRectangularSelectionTool:{key:"m",action:function(){channel.publish("app.tool.select",{tool:"RectangularSelectionTool"})}},selectPaintBucketTool:{key:"p",action:function(){channel.publish("app.tool.select",{tool:"PaintBucketTool"})}},selectBrightnessTool:{key:"o",action:function(){channel.publish("app.tool.select",{tool:"BrightnessTool"})}},selectMoveTool:{key:"v",action:function(){channel.publish("app.tool.select",{tool:"MoveTool"})}},selectZoomTool:{key:"z",action:function(){channel.publish("app.tool.select",{tool:"ZoomTool"})}},toggleGrid:{key:"g",action:function(){channel.publish("stage.grid.toggle",{grid:!a.grid})}},dropSelection:{key:["ctrl+d","command+d"],action:function(){channel.publish("stage.selection.clear")}},arrowUp:{key:["up"],action:function(){var b=new Point(0,-1);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=changeColorLightness(a.color,1);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"BrightnessTool":var d=a.brightnessTool.intensity+1;100>=d&&channel.publish("app.brightnesstool.intensity.select",{intensity:d});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh();break;case"ZoomTool":var e=a.zoom+1;50>=e&&channel.publish("stage.zoom.select",{zoom:e})}}},arrowRight:{key:["right"],action:function(){var b=new Point(1,0);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=a.color.rotate(1);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"BrightnessTool":channel.publish("app.brightnesstool.mode.select",{mode:"darken"});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh();break;case"ZoomTool":var d=a.zoom+1;50>=d&&channel.publish("stage.zoom.select",{zoom:d})}}},arrowDown:{key:["down"],action:function(){var b=new Point(0,1);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=changeColorLightness(a.color,-1);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"BrightnessTool":var d=a.brightnessTool.intensity-1;d>=1&&channel.publish("app.brightnesstool.intensity.select",{intensity:d});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh();break;case"ZoomTool":var e=a.zoom-1;e>=1&&channel.publish("stage.zoom.select",{zoom:e})}}},arrowLeft:{key:["left"],action:function(){var b=new Point(-1,0);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=a.color.rotate(-1);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"BrightnessTool":channel.publish("app.brightnesstool.mode.select",{mode:"lighten"});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh();break;case"ZoomTool":var d=a.zoom-1;d>=1&&channel.publish("stage.zoom.select",{zoom:d})}}},shiftArrowUp:{key:["shift+up"],action:function(){var b=new Point(0,-10);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=changeColorLightness(a.color,10);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh()}}},shiftArrowRight:{key:["shift+right"],action:function(){var b=new Point(10,0);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=a.color.rotate(10);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh()}}},shiftArrowDown:{key:["shift+down"],action:function(){var b=new Point(0,10);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=changeColorLightness(a.color,-10);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh()}}},shiftArrowLeft:{key:["shift+left"],action:function(){var b=new Point(-10,0);switch(a.tool){case"BrushTool":case"PaintBucketTool":var c=a.color.rotate(-10);channel.publish("app.color.select",{color:c.hexString()});break;case"RectangularSelectionTool":a.selection.isActive&&channel.publish("stage.selection.move.bounds",{distance:b});break;case"MoveTool":a.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:b}),channel.publish("stage.selection.move.bounds",{distance:b})):channel.publish("stage.tool.move",{distance:b}),stage.layer.refresh()}}}};var b=this;Object.keys(this.actions).map(function(a){var c=b.actions[a];Mousetrap.bind(c.key,c.action)})},Workspace=function(){};Workspace.prototype=Object.create(null),Workspace.prototype.constructor=Workspace,Workspace.prototype.data={tool:"BrushTool",frame:1,layer:null,palette:"sprite",color:"#000000",grid:!0,zoom:10,brightnessTool:{mode:"lighten",intensity:10},selection:{bounds:!1,pixels:[]},folds:{preview:!1,frames:!1,layers:!1}},Workspace.prototype.update=function(){this.data.tool=editor.tool,this.data.frame=editor.frame,this.data.layer=editor.layers.selected,this.data.palette=editor.palettes.selected,this.data.color=editor.color.hexString(),this.data.grid=editor.grid,this.data.zoom=editor.zoom,this.data.selection={bounds:editor.selection.bounds,pixels:editor.selection.pixels},this.data.brightnessTool={mode:editor.brightnessTool.mode,intensity:editor.brightnessTool.intensity}},Workspace.prototype.setup=function(){var a=function(){var a=!1;return _.isUndefined(this.data.selection.bounds.start)||_.isUndefined(this.data.selection.bounds.end)||(a={start:new Point(this.data.selection.bounds.start.x,this.data.selection.bounds.start.y),end:new Point(this.data.selection.bounds.end.x,this.data.selection.bounds.end.y)}),a};editor.tool=this.data.tool,editor.frame=this.data.frame,editor.layers.selected=this.data.layer,editor.palettes.selected=this.data.palette,editor.color=new Color(this.data.color),editor.grid=this.data.grid,editor.zoom=this.data.zoom,editor.selection.bounds=a.call(this),editor.selection.pixels=this.data.selection.pixels,editor.brightnessTool.mode=this.data.brightnessTool.mode,editor.brightnessTool.intensity=this.data.brightnessTool.intensity},Workspace.prototype.load=function(){var a=localStorage.getItem("workspace");a&&(this.data=JSON.parse(a),this.setup())},Workspace.prototype.save=function(){this.update();var a=JSON.stringify(this.data);localStorage.setItem("workspace",a)};var CopyFrameMixin={propTypes:{frame:React.PropTypes.number.isRequired},componentDidMount:function(){this.subscription=channel.subscribe("stage.frame.update",this.prepareRefresh)},compontentWillUnmount:function(){this.subscription.unsubscribe()},getInitialState:function(){return{needsRefresh:!1}},prepareRefresh:function(){this.setState({needsRefresh:!0})},componentDidUpdate:function(){this.state.needsRefresh&&(this.drawFrame(),this.setState({needsRefresh:!1}))},drawFrame:function(){var a=this.getDOMNode().clientWidth,b=this.getDOMNode().clientHeight,c=document.getElementById("OffscreenFrameCanvas-"+this.props.frame);this.getDOMNode().width=this.getDOMNode().width,this.getDOMNode().getContext("2d").webkitImageSmoothingEnabled=!1,this.getDOMNode().getContext("2d").drawImage(c,0,0,a,b)}},FoldableMixin={getInitialState:function(){return{folded:!1}},componentDidMount:function(){function a(a){a?(d.style.display="none",c.classList.add("folded")):(d.style.display="block",c.classList.remove("folded"))}var b=this,c=this.getDOMNode().querySelector(".foldable-handle"),d=this.getDOMNode().querySelector(".foldable-fold");c.onclick=function(){workspace.data.folds[b.props.fold]=!b.props.workspace.data.folds[b.props.fold],a(workspace.data.folds[b.props.fold]),workspace.save(),channel.publish("app.box.toggle")},a(b.props.workspace.data.folds[b.props.fold])},componentWillUnmount:function(){var a=this.getDOMNode().querySelector(".foldable-handle");a.onclick=null}},StageBoxCanvasMixin={clear:function(){var a=this.getDOMNode();a.width=a.width}},App=React.createClass({displayName:"App",render:function(){for(var a=this.props.editor.frames.x*this.props.editor.frames.y,b=[],c=0;a>c;c++)b[c]=c+1;return React.DOM.div({id:"App"},React.DOM.div({className:"area top"},ToolContainer({editor:this.props.editor})),React.DOM.div({className:"area left"},ToolBox({editor:this.props.editor})),React.DOM.div({className:"area center"},StageBox({editor:this.props.editor,pixel:this.props.pixel})),React.DOM.div({className:"area right"},React.DOM.div({id:"layerboxhelper"},PreviewBox({editor:this.props.editor,workspace:this.props.workspace,fold:"preview"}),FrameBox({editor:this.props.editor,workspace:this.props.workspace,fold:"frames"})),LayerBox({editor:this.props.editor,workspace:this.props.workspace,fold:"layers"})),React.DOM.div({className:"area bottom"},StatusBar({editor:this.props.editor})),React.DOM.div({className:"area offscreen"},b.map(function(a){var b="OffscreenFrameCanvas-"+a;return OffscreenFrameCanvas({key:b,frame:a,editor:this.props.editor})},this),SelectionPattern({editor:this.props.editor})))},componentDidMount:function(){channel.subscribe("app.frame.select",this.updateProps),channel.subscribe("app.layer.select",this.updateProps),channel.subscribe("app.tool.select",this.updateProps),channel.subscribe("app.color.select",this.updateProps),channel.subscribe("app.pixel.select",this.updateProps),channel.subscribe("stage.grid.toggle",this.updateProps),channel.subscribe("stage.zoom.select",this.updateProps)},updateProps:function(){this.setProps({editor:editor})},componentWillReceiveProps:function(){}}),BrightnessTool=React.createClass({displayName:"BrightnessTool",render:function(){function a(a){return a.charAt(0).toUpperCase()+a.slice(1)}var b="small transparent active",c=!0,d="small",e=!1;return"darken"==this.props.editor.brightnessTool.mode&&(b="small",c=!1,d="small transparent active",e=!0),React.DOM.div({id:"Brightness-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-sun4"}),React.DOM.button({onClick:this.selectLightenTool,className:b,disabled:c,title:"Lighten pixels"},React.DOM.i({className:"flaticon-dark26"})),React.DOM.button({onClick:this.selectDarkenTool,className:d,disabled:e,title:"Darken pixels"},React.DOM.i({className:"flaticon-clear3"})),React.DOM.input({type:"range",min:"1",max:"100",className:"brightness-slider",value:this.props.editor.brightnessTool.intensity,onChange:this.setIntensity}),React.DOM.span(null,a(this.props.editor.brightnessTool.mode)," by"),React.DOM.input({type:"number",min:"1",max:"100",className:"brightness-number",value:this.props.editor.brightnessTool.intensity,onChange:this.setIntensity}),React.DOM.span(null,"%"),React.DOM.span({className:"spacer"}),React.DOM.span({className:"hint"},"Make existing pixels brighter or darker with this brush."))},selectLightenTool:function(){channel.publish("app.brightnesstool.mode.select",{mode:"lighten"})},selectDarkenTool:function(){channel.publish("app.brightnesstool.mode.select",{mode:"darken"})},setIntensity:function(a){var b=parseInt(a.target.value);channel.publish("app.brightnesstool.intensity.select",{intensity:b})}}),BrushTool=React.createClass({displayName:"BrushTool",render:function(){return React.DOM.div({id:"Brush-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-small23"}),React.DOM.input({type:"color",id:"Brush-Colorpicker",className:"ColorSwatch",value:editor.color.hexString(),onChange:this.dispatchColorSelected,title:editor.color.hexString()}),React.DOM.span({className:"spacer"}),Palette({editor:this.props.editor}))},dispatchColorSelected:function(a){var b=a.target.value;channel.publish("app.color.select",{color:b})}}),EraserTool=React.createClass({displayName:"EraserTool",render:function(){return React.DOM.div({id:"Eraser-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-double31",style:{position:"relative",left:"0.25em"}}),React.DOM.span({className:"hint"},"Click a pixel to erase it."))}}),EyedropperTool=React.createClass({displayName:"EyedropperTool",render:function(){return React.DOM.div({id:"Eyedropper-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-eyedropper2"}),React.DOM.div({id:"EyedropperSwatch",className:"colorswatch",style:{background:this.props.editor.pixelColor.rgbaString()}}),React.DOM.ul(null,React.DOM.li(null,"Hex: ",0==this.props.editor.pixelColor.alpha()?"":this.props.editor.pixelColor.hexString()),React.DOM.li(null,"RGB: ",0==this.props.editor.pixelColor.alpha()?"":this.props.editor.pixelColor.red()+", "+this.props.editor.pixelColor.green()+", "+this.props.editor.pixelColor.blue())),React.DOM.span({className:"spacer"}),React.DOM.span({className:"hint"},"Click any non-transparent pixel to pick its color."))}}),FrameBox=React.createClass({displayName:"FrameBox",mixins:[FoldableMixin],render:function(){for(var a=this.props.editor.frames.x*this.props.editor.frames.y,b=[],c=Math.floor(180/this.props.editor.frames.x),d=c*this.props.editor.frames.x,e=(200-d)/2,f=0;a>f;f++)b[f]=f+1;return React.DOM.div({id:"FrameBox",className:"box"},React.DOM.h4({className:"foldable-handle"},"Frames"),React.DOM.div({className:"foldable-fold"},React.DOM.div({id:"FrameBoxFrames",style:{width:d,marginLeft:e}},b.map(function(a){var b="FrameBoxFrame-"+a,d="frame";a==this.props.editor.frame&&(d+=" selected"),a%this.props.editor.frames.x==0&&(d+=" right"),a<=this.props.editor.frames.x&&(d+=" top");var e=function(){channel.publish("app.frame.select",{frame:a})};return React.DOM.div({key:b,className:d,style:{width:c,height:c},onClick:e},FrameBoxFrame({frame:a,size:c,editor:this.props.editor}))},this)),React.DOM.div({className:"actions"},"Frame ",React.DOM.input({type:"number",className:"frame-number",min:"1",max:a,value:this.props.editor.frame,onChange:this.dispatchFrameSelected})," of ",a)))},dispatchFrameSelected:function(a){channel.publish("app.frame.select",{frame:a.target.value})}}),FrameBoxFrame=React.createClass({displayName:"FrameBoxFrame",mixins:[CopyFrameMixin],render:function(){var a=fitCanvasIntoSquareContainer(this.props.editor.size.width,this.props.editor.size.height,this.props.size);return React.DOM.canvas({width:a.width,height:a.height,style:a})}}),LayerBox=React.createClass({displayName:"LayerBox",mixins:[FoldableMixin],getInitialState:function(){return{shouldSelectLayer:!1}},render:function(){var a=this.props.editor.layers.frame.length<=1?!0:!1;return React.DOM.div({id:"LayerBox",className:"box"},React.DOM.h4({className:"foldable-handle"},"Layers"),React.DOM.div({className:"foldable-fold"},React.DOM.div({className:"layers"},this.props.editor.layers.frame.map(function(a){var b="LayerBoxLayer-"+a.id;return LayerBoxLayer({key:b,layer:a,editor:this.props.editor})},this)),React.DOM.div({className:"actions"},React.DOM.button({title:"New layer above selected layer",onClick:this.dispatchLayerAdded,className:"tiny transparent"},React.DOM.i({className:"flaticon-plus25"})),React.DOM.button({title:"Delete selected layer",onClick:this.dispatchLayerRemoved,className:"tiny transparent",disabled:a},React.DOM.i({className:"flaticon-minus18"})))))},componentDidMount:function(){},componentDidUpdate:function(){this.state.shouldSelectLayer!==!1&&(channel.publish("app.layer.select",{layer:this.state.shouldSelectLayer}),this.setState({shouldSelectLayer:!1}));var a=this.calculateHeight();this.getDOMNode().querySelector(".layers").style.maxHeight=a+"px"},dispatchLayerAdded:function(){channel.publish("file.layer.add",{layer:this.props.editor.layers.selected})},dispatchLayerRemoved:function(){channel.publish("file.layer.delete",{layer:this.props.editor.layers.selected})},shouldSelectLayer:function(a){this.setState({shouldSelectLayer:a.layer})},calculateHeight:function(){var a=document.querySelector(".area.right").clientHeight,b=document.getElementById("layerboxhelper").clientHeight;return a-b-47}}),LayerBoxLayer=React.createClass({displayName:"LayerBoxLayer",propTypes:{layer:React.PropTypes.object.isRequired},render:function(){var a="LayerBoxLayer";return this.props.layer.id==this.props.editor.layers.selected&&(a+=" selected"),React.DOM.div({id:this.props.key,className:a},React.DOM.div({className:"visibility"},React.DOM.input({type:"checkbox",checked:this.props.layer.visible,onChange:this.dispatchLayerVisibilityChanged})),React.DOM.div({className:"preview"},LayerBoxLayerPreview({ref:"preview",id:this.props.layer.id,size:this.props.editor.size})),React.DOM.div({className:"name"},React.DOM.label({ref:"nameLabel",className:"name-label",onClick:this.showNameInput},this.props.layer.name),React.DOM.input({ref:"nameText",className:"name-text",type:"text",defaultValue:this.props.layer.name,onKeyDown:this.dispatchLayerNameChanged})),React.DOM.input({ref:"opacitySlider",type:"range",className:"opacity-slider",min:"0",max:"100",value:this.props.layer.opacity,onChange:this.dispatchLayerOpacityChanged}),React.DOM.input({ref:"opacityNumber",type:"number",className:"opacity-number",min:"0",max:"100",value:this.props.layer.opacity,onChange:this.dispatchLayerOpacityChanged}))},componentDidMount:function(){this.refs.nameText.getDOMNode().addEventListener("blur",this.dispatchLayerNameChanged)},componentWillUnmount:function(){this.refs.nameText.getDOMNode().removeEventListener("blur",this.dispatchLayerNameChanged)},dispatchLayerVisibilityChanged:function(a){channel.publish("file.layer.visibility.toggle",{layer:this.props.layer.id,visible:a.target.checked})},dispatchLayerOpacityChanged:function(a){channel.publish("file.layer.opacity.select",{layer:this.props.layer.id,opacity:parseInt(a.target.value)})},dispatchLayerNameChanged:function(a){("blur"==a.type||"keydown"==a.nativeEvent.type&&13==a.nativeEvent.which)&&(this.refs.nameText.getDOMNode().style.display="none",this.refs.nameLabel.getDOMNode().style.display="block",_.isEmpty(a.target.value.trim())||(this.refs.nameLabel.getDOMNode().innerHTML=a.target.value,channel.publish("file.layer.name.select",{layer:this.props.layer.id,name:a.target.value})))},showNameInput:function(){this.refs.nameLabel.getDOMNode().style.display="none",this.refs.nameText.getDOMNode().style.display="block",this.refs.nameText.getDOMNode().focus()}}),LayerBoxLayerPreview=React.createClass({displayName:"LayerBoxLayerPreview",propTypes:{id:React.PropTypes.number.isRequired},render:function(){var a=fitCanvasIntoSquareContainer(this.props.size.width,this.props.size.height,30);return React.DOM.canvas({width:a.width,height:a.height,style:a,onClick:this.dispatchLayerSelected})},componentDidMount:function(){this.subscriptions=[]},componentWillUnmount:function(){this.subscriptions.forEach(function(a){a.unsubscribe()})},getInitialState:function(){return{needsRefresh:!1}},dispatchLayerSelected:function(){channel.publish("app.layer.select",{layer:this.props.id})},prepareRefresh:function(){this.setState({needsRefresh:!0})},componentDidUpdate:function(){if(this.state.needsRefresh){var a=this.getDOMNode().clientWidth,b=this.getDOMNode().clientHeight,c=document.getElementById("StageBoxLayer-"+this.props.id);this.getDOMNode().width=this.getDOMNode().width,this.getDOMNode().getContext("2d").drawImage(c,0,0,a,b),this.setState({needsRefresh:!1})}}}),MoveTool=React.createClass({displayName:"MoveTool",render:function(){return React.DOM.div({id:"Move-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-move11"}),React.DOM.span({className:"hint"},"Move pixels of a layer by dragging."))
}}),OffscreenFrameCanvas=React.createClass({displayName:"OffscreenFrameCanvas",propTypes:{frame:React.PropTypes.number.isRequired},getInitialState:function(){return{needsRefresh:!1}},render:function(){return React.DOM.canvas({id:this.props.key,className:"OffscreenFrameCanvas",width:this.props.editor.size.width,height:this.props.editor.size.height,style:{width:this.props.editor.size.width,height:this.props.editor.size.height}})},componentDidMount:function(){},componentWillUnmount:function(){this.subscription.unsubscribe()},componentDidUpdate:function(){if(this.state.needsRefresh&&this.props.frame==this.props.editor.frame){this.getDOMNode().width=this.getDOMNode().width;for(var a=this,b=this.props.editor.layers.frame.length-1;b>=0;b--){var c=this.props.editor.layers.frame[b];if(c.visible){var d=document.getElementById("StageBoxLayer-"+c.id),e=a.getDOMNode().getContext("2d");e.globalAlpha=c.opacity/100,e.drawImage(d,0,0,this.props.editor.size.width,this.props.editor.size.height)}}}},prepareRefresh:function(){this.props.frame==this.props.editor.frame&&this.setState({needsRefresh:!0})},getPixelColor:function(a){if(this.props.frame==this.props.editor.frame){var b=this.getDOMNode().getContext("2d"),c=b.getImageData(a.point.x-1,a.point.y-1,1,1).data,d=Color({r:c[0],g:c[1],b:c[2],a:c[3]});editor.pixelColor=d}}}),PaintBucketTool=React.createClass({displayName:"PaintBucketTool",render:function(){return React.DOM.div({id:"PaintBucket-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-paint2"}),React.DOM.input({type:"color",id:"PaintBucket-Colorpicker",className:"ColorSwatch",value:editor.color.hexString(),onChange:this.dispatchColorSelected,title:editor.color.hexString()}),React.DOM.span({className:"spacer"}),Palette({editor:this.props.editor}))},dispatchColorSelected:function(a){var b=a.target.value;channel.publish("app.color.select",{color:b})}}),Palette=React.createClass({displayName:"Palette",getInitialState:function(){return{resetScroll:!1}},render:function(){var a=this.props.editor.palettes.available,b=a[this.props.editor.palettes.selected];return React.DOM.div({className:"palette"},React.DOM.div({className:"switch",onClick:this.showPalettes},React.DOM.i({className:"icon flaticon-color1"}),React.DOM.i({className:"switch-arrow flaticon-little9"}),React.DOM.div({className:"name"},b.short),React.DOM.ul({ref:"paletteList",className:"list"},Object.keys(a).map(function(b){var c=a[b];return React.DOM.li({key:b,"data-palette":b,onClick:this.selectPalette},c.title," (",c.colors.length," colours)")},this))),React.DOM.button({ref:"buttonScrollLeft",className:"scroll left",onClick:this.scrollLeft},React.DOM.i({className:"flaticon-arrow85"})),React.DOM.div({className:"outer"},React.DOM.div({className:"inner"},b.colors.map(function(a){return PaletteSwatch({key:a,color:a})},this))),React.DOM.button({ref:"buttonScrollRight",className:"scroll right",onClick:this.scrollRight},React.DOM.i({className:"flaticon-mini7"})))},componentDidMount:function(){this.setInnerWidth(),this.resetScroll(),this.subscriptions=[]},componentDidUpdate:function(){this.setInnerWidth(),this.state.resetScroll&&(this.resetScroll(),this.setState({resetScroll:!1}))},componentDidUnmount:function(){this.subscriptions.forEach(function(a){a.unsubscribe()})},getOuterWidth:function(){return this.getDOMNode().querySelector(".outer").clientWidth},getInnerWidth:function(){var a=28,b=NodeList2Array(this.getDOMNode().querySelectorAll(".inner .colorswatch")).length;return a*b},setInnerWidth:function(){var a=28,b=this.getOuterWidth(),c=NodeList2Array(this.getDOMNode().querySelectorAll(".inner .colorswatch")).length,d=Math.floor(b/a),e=Math.ceil(c/d),f=b-d*a;this.getDOMNode().querySelector(".inner").style.width=d*a*e+f+"px"},getScrollPosition:function(){return this.getDOMNode().querySelector(".outer").scrollLeft},setScrollPosition:function(a){this.getDOMNode().querySelector(".outer").scrollLeft=a},scrollTo:function(a){var b=this,c=this.getScrollPosition(),d=a-c,e=200,f="sineInOut",g=!1,h=new Tween(c,d,e,f,g);this.refs.buttonScrollLeft.getDOMNode().style.visibility=0==a?"hidden":"visible";var i=this.getInnerWidth(),j=this.getOuterWidth(),k=i-j,l=28,m=NodeList2Array(this.getDOMNode().querySelectorAll(".inner .colorswatch")).length,n=Math.floor(j/l),o=Math.ceil(m/n);this.refs.buttonScrollRight.getDOMNode().style.visibility=1==o?"hidden":a>=k?"hidden":"visible",function p(){h.expired()||(b.setScrollPosition(h.getValue()),setTimeout(p,1))}()},scrollLeft:function(){var a=28,b=this.getOuterWidth(),c=this.getScrollPosition(),d=Math.floor(b/a),e=c-a*d;0>e&&(e=0),this.scrollTo(e)},scrollRight:function(){var a=28,b=this.getOuterWidth(),c=this.getScrollPosition(),d=(NodeList2Array(this.getDOMNode().querySelectorAll(".inner .colorswatch")).length,Math.floor(b/a)),e=c+a*d;this.scrollTo(e)},prepareResetScroll:function(){this.isMounted()&&this.setState({resetScroll:!0})},resetScroll:function(){this.scrollTo(0)},showPalettes:function(){this.refs.paletteList.getDOMNode().style.display="block"},hidePalettes:function(){this.refs.paletteList.getDOMNode().style.display="none"},selectPalette:function(a){var b=a.currentTarget.getAttribute("data-palette");return this.hidePalettes(),channel.publish("app.palette.select",{palette:b}),!1}}),PaletteSwatch=React.createClass({displayName:"PaletteSwatch",propTypes:{color:React.PropTypes.string.isRequired},render:function(){return React.DOM.div({className:"colorswatch",style:{background:this.props.color},title:this.props.color,onClick:this.select})},select:function(){channel.publish("app.color.select",{color:this.props.color})}}),PreviewBox=React.createClass({displayName:"PreviewBox",mixins:[FoldableMixin],render:function(){return React.DOM.div({id:"PreviewBox",className:"box"},React.DOM.h4({className:"foldable-handle"},"Preview"),React.DOM.div({className:"foldable-fold"},PreviewBoxPreview({frame:this.props.editor.frame,size:this.props.editor.size})))}}),PreviewBoxPreview=React.createClass({displayName:"PreviewBoxPreview",mixins:[CopyFrameMixin],render:function(){var a=1,b=160,c=90;a=this.props.size.width>this.props.size.height?b/this.props.size.width:c/this.props.size.height;var d=this.props.size.width*a,e=this.props.size.height*a;return React.DOM.canvas({id:"PreviewBoxPreview",width:d,height:e,style:{width:d,height:e}})}}),RectangularSelectionTool=React.createClass({displayName:"RectangularSelectionTool",render:function(){return React.DOM.div({id:"RectangularSelection-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-selection7"}),React.DOM.span({className:"hint"},"Select some pixels to work with!"))}}),SelectionPattern=React.createClass({displayName:"SelectionPattern",getInitialState:function(){return{frame:1,frameCountUp:!0}},render:function(){var a=this.props.editor.zoom;return React.DOM.canvas({id:"SelectionPattern",width:a,height:a,style:{height:a,width:a}})},componentDidMount:function(){this.interval=setInterval(this.tick,200),this.drawPattern()},componentWillUnmount:function(){clearInterval(this.interval)},componentDidUpdate:function(){this.drawPattern()},tick:function(){var a=this.state.frame,b=this.state.frameCountUp;b?(a++,4==a&&(b=!1)):(a--,1==a&&(b=!0)),this.setState({frame:a,frameCountUp:b})},drawPattern:function(){var a=this.state.frame,b=this.getDOMNode(),c=b.getContext("2d"),d=this.props.editor.zoom;c.webkitImageSmoothingEnabled=!1,c.fillStyle="#fff",c.fillRect(0,0,d,d),c.fillStyle="#000",c.fillRect(a*(d/10),0,d/2,d),c.fillRect(0,a*(d/10),d,d/2)}}),StageBox=React.createClass({displayName:"StageBox",getInitialState:function(){return{needsRefresh:!1,mousedown:!1,mousedownPoint:new Point(0,0),last:null}},render:function(){var a=this.props.editor.size.width*this.props.editor.zoom,b=this.props.editor.size.height*this.props.editor.zoom,c=window.innerWidth-editor.offset.left-editor.offset.right,d=window.innerHeight-editor.offset.top-editor.offset.bottom,e={width:a,height:b};return e.left=a>c?0:(c-a)/2,e.top=b>d?0:(d-b)/2,React.DOM.div({id:"StageBox",style:e,onMouseDown:this.mousedown,onMouseMove:this.mousemove,onMouseUp:this.mouseup},StageBoxCursorCanvas({width:a,height:b,editor:this.props.editor}),StageBoxSelectionCanvas({width:a,height:b,editor:this.props.editor}),StageBoxGridCanvas({width:a,height:b,editor:this.props.editor}),this.props.editor.layers.frame.map(function(c){var d="StageBoxLayer-"+c.id;return StageBoxLayer({key:d,width:a,height:b,layer:c,editor:this.props.editor})},this))},componentDidMount:function(){this.subscriptions=[]},prepareRefresh:function(){this.setState({needsRefresh:!0})},componentDidUpdate:function(){this.state.needsRefresh&&(stage.frame.refresh(),this.setState({needsRefresh:!1}))},mousedown:function(a){a=a.nativeEvent;var b=this.getWorldCoordinates(a);switch(this.props.editor.tool){case"BrushTool":this.useBrushTool();break;case"EraserTool":this.useEraserTool();break;case"BrightnessTool":this.useBrightnessTool();break;case"RectangularSelectionTool":this.startRectangularSelection(b)}this.setState({mousedown:!0,mousedownPoint:b,last:a.timeStamp})},mousemove:function(a){a=a.nativeEvent,this.getLayerPixelColor(a);var b=this.getWorldCoordinates(a),c=this.getMouseDownDistance();if(a.timeStamp>this.state.last+10&&channel.publish("app.pixel.select",{point:b}),this.state.mousedown===!0)switch(this.props.editor.tool){case"BrushTool":this.useBrushTool();break;case"EraserTool":this.useEraserTool();break;case"RectangularSelectionTool":editor.selection.isActive?this.updateRectangularSelection(c):this.resizeRectangularSelection(b);break;case"BrightnessTool":this.useBrightnessTool();break;case"MoveTool":this.useMoveTool()}},mouseup:function(a){a=a.nativeEvent;{var b=this.getWorldCoordinates(a),c=this.getMouseDownDistance();editor.selection.isActive}switch(this.setState({mousedown:!1}),this.props.editor.tool){case"EyedropperTool":this.useEyedropperTool();break;case"RectangularSelectionTool":this.endRectangularSelection(b,c);break;case"PaintBucketTool":this.usePaintBucketTool(b);break;case"MoveTool":editor.selection.isActive?(channel.publish("stage.selection.move.pixels",{distance:c}),channel.publish("stage.selection.move.bounds",{distance:c})):channel.publish("stage.tool.move",{distance:c})}},getLayerPixelColor:function(a){var b=file.getLayerById(this.props.editor.layers.selected),c=document.getElementById("StageBoxLayer-"+b.id).getContext("2d"),d=c.getImageData(a.offsetX,a.offsetY,1,1).data,e=Color({r:d[0],g:d[1],b:d[2],a:d[3]});editor.layerPixelColor=e},getWorldCoordinates:function(a){return new Point(Math.ceil(a.layerX/this.props.editor.zoom),Math.ceil(a.layerY/this.props.editor.zoom))},getMouseDownDistance:function(){return new Point(editor.pixel.x-this.state.mousedownPoint.x,editor.pixel.y-this.state.mousedownPoint.y)},useBrushTool:function(){isLayerVisible()&&(editor.selection.isActive?editor.selection.contains(editor.pixel)&&stage.pixel.fill():stage.pixel.fill())},useEraserTool:function(){isLayerVisible()&&(editor.selection.isActive?editor.selection.contains(editor.pixel)&&stage.pixel.clear():stage.pixel.clear())},useEyedropperTool:function(){0!=editor.pixelColor.alpha()&&(channel.publish("app.tool.select",{tool:"BrushTool"}),channel.publish("app.color.select",{color:editor.pixelColor.hexString()}))},usePaintBucketTool:function(a){isLayerVisible()&&(editor.selection.isActive?editor.selection.contains(a)&&channel.publish("stage.tool.paintbucket",{point:a}):channel.publish("stage.tool.paintbucket",{point:a}))},useBrightnessTool:function(){if(isLayerVisible()){var a=_.findWhere(editor.pixels,{layer:editor.layers.selected,x:editor.pixel.x,y:editor.pixel.y}),b=!_.isUndefined(a);b&&(editor.selection.isActive?editor.selection.contains(editor.pixel)&&("lighten"==editor.brightnessTool.mode?stage.pixel.lighten():"darken"==editor.brightnessTool.mode&&stage.pixel.darken()):"lighten"==editor.brightnessTool.mode?stage.pixel.lighten():"darken"==editor.brightnessTool.mode&&stage.pixel.darken())}},useMoveTool:function(){var a=editor.layers.selected,b=this.getMouseDownDistance(),c=document.getElementById("StageBoxLayer-"+a);c.width=c.width,editor.selection.isActive?(this.updateRectangularSelection(b),editor.selection.pixels.forEach(function(c){var d=new Color("rgb("+c.r+", "+c.g+", "+c.b+")"),e=wrapPixel(c,b);stage.pixel.fill(a,e.x,e.y,d)}),editor.pixels.forEach(function(b){if(b.layer==a){var c=new Color("rgb("+b.r+", "+b.g+", "+b.b+")");stage.pixel.fill(a,b.x,b.y,c)}})):editor.pixels.forEach(function(c){if(c.layer==a){var d=new Color("rgb("+c.r+", "+c.g+", "+c.b+")"),e=wrapPixel(c,b);stage.pixel.fill(a,e.x,e.y,d)}})},startRectangularSelection:function(a){editor.selection&&editor.selection.contains(a)||(channel.publish("stage.selection.clear"),channel.publish("stage.selection.start",{point:a}))},resizeRectangularSelection:function(a){channel.publish("stage.selection.resize",{point:a})},updateRectangularSelection:function(a){channel.publish("stage.selection.update",{distance:a})},endRectangularSelection:function(a,b){editor.selection.isActive?channel.publish("stage.selection.move.bounds",{distance:b}):_.isEqual(a,this.state.mousedownPoint)?channel.publish("stage.selection.clear"):channel.publish("stage.selection.end",{point:a})}}),StageBoxCursorCanvas=React.createClass({displayName:"StageBoxCursorCanvas",mixins:[StageBoxCanvasMixin],render:function(){return React.DOM.canvas({id:"StageBoxCursorCanvas",className:"Layer",width:this.props.width,height:this.props.height})},componentDidUpdate:function(){this.clear(),this.drawPixelCursor()},drawPixelCursor:function(){var a=this.props.editor.zoom,b=this.props.editor.pixel.x,c=this.props.editor.pixel.y;if(0!=b||0!=c){var d=this.getDOMNode(),e=d.getContext("2d");e.strokeStyle="#FF0000";var f=b*a-a+.5,g=b*a+.5,h=c*a-a+.5,i=c*a+.5;3>a&&(g++,i++),b>1&&(e.beginPath(),e.moveTo(f,0),e.lineTo(f,d.height),e.stroke()),b<d.width/a&&(e.beginPath(),e.moveTo(g,0),e.lineTo(g,d.height),e.stroke()),c>1&&(e.beginPath(),e.moveTo(0,h),e.lineTo(d.width,h),e.stroke()),c<d.height/a&&(e.beginPath(),e.moveTo(0,i),e.lineTo(d.width,i),e.stroke())}}}),StageBoxGridCanvas=React.createClass({displayName:"StageBoxGridCanvas",mixins:[StageBoxCanvasMixin],render:function(){return React.DOM.canvas({id:"StageBoxGridCanvas",className:"Layer",width:this.props.width,height:this.props.height})},componentDidMount:function(){this.props.editor.grid===!0&&this.drawGrid()},componentDidUpdate:function(){this.props.editor.grid===!0?this.drawGrid():this.clear()},drawGrid:function(){var a=this.getDOMNode(),b=this.props.editor.zoom;if(!(3>b)){var c=a.getContext("2d");c.strokeStyle="#cccccc";for(var d=b+.5;d<a.width;d+=b)c.beginPath(),c.moveTo(d,0),c.lineTo(d,a.height),c.stroke();for(var e=b+.5;e<a.height;e+=b)c.beginPath(),c.moveTo(0,e),c.lineTo(a.width,e),c.stroke()}}}),StageBoxLayer=React.createClass({displayName:"StageBoxLayer",render:function(){var a="Layer",b=this.props.layer.visible===!0?"block":"none";return React.DOM.canvas({id:this.props.key,className:a,width:this.props.width,height:this.props.height,style:{zIndex:this.props.layer.z,opacity:this.props.layer.opacity/100,display:b,width:this.props.width,height:this.props.height}})}}),StageBoxSelectionCanvas=React.createClass({displayName:"StageBoxSelectionCanvas",mixins:[StageBoxCanvasMixin],render:function(){return React.DOM.canvas({id:"StageBoxSelectionCanvas",className:"Layer",width:this.props.width,height:this.props.height})},componentDidUpdate:function(){function a(){this.drawSelection(this.props.editor.selection.bounds.start,this.props.editor.selection.bounds.end)}function b(a){var b=new Point(this.props.editor.selection.bounds.start.x+a.x,this.props.editor.selection.bounds.start.y+a.y),c=new Point(this.props.editor.selection.bounds.end.x+a.x,this.props.editor.selection.bounds.end.y+a.y);this.drawSelection(b,c)}switch(this.clear(),this.props.editor.tool){case"RectangularSelectionTool":this.props.editor.selection.isMoving?b.call(this,this.props.editor.selection.bounds.distance):this.props.editor.selection.isResizing?this.drawSelection(this.props.editor.selection.bounds.start,this.props.editor.selection.bounds.cursor):this.props.editor.selection.isActive&&a.call(this);break;case"MoveTool":this.props.editor.selection.isMoving?b.call(this,this.props.editor.selection.bounds.distance):this.props.editor.selection.isActive&&a.call(this);break;default:this.props.editor.selection.isActive&&a.call(this)}},componentDidMount:function(){var a=this;this.interval=setInterval(function(){editor.selection.isActive&&a.forceUpdate()},200)},componentWillUnmount:function(){clearInterval(this.interval)},drawSelection:function(a,b){var c,d,e=this.getDOMNode(),f=this.props.editor.zoom,g=e.getContext("2d"),h=b.x-a.x,i=b.y-a.y,j=g.createPattern(document.getElementById("SelectionPattern"),"repeat");h>=0?(h++,c=a.x-1):(h--,c=a.x),i>=0?(i++,d=a.y-1):(i--,d=a.y),g.strokeStyle=j,g.strokeRect(c*f+.5,d*f+.5,h*f,i*f)}}),StatusBar=React.createClass({displayName:"StatusBar",render:function(){var a=(this.props.editor.grid===!0?"active":"")+" tiny transparent",b="Toggle grid ("+hotkeys.actions.toggleGrid.key+")";return React.DOM.div({id:"StatusBar"},React.DOM.span(null,"X: ",this.props.editor.pixel.x),React.DOM.span(null,"Y: ",this.props.editor.pixel.y),React.DOM.div({id:"StatusBarColor",style:{background:this.props.editor.pixelColor.rgbaString()}}),React.DOM.span({id:"StatusBarColorString"},0==this.props.editor.pixelColor.alpha()?"transparent":this.props.editor.pixelColor.hexString()),React.DOM.span(null,"Frame ",this.props.editor.frame,", ",this.props.editor.pixels.length+this.props.editor.selection.pixels.length," pixels")," ",React.DOM.span(null,"Zoom ×",this.props.editor.zoom),React.DOM.div({id:"StatusBarButtons"},React.DOM.button({id:"toggleGrid",className:a,onClick:this.dispatchGridToggled,title:b},React.DOM.i({className:"flaticon-3x3"}))))},dispatchGridToggled:function(){channel.publish("stage.grid.toggle",{grid:!this.props.editor.grid})}}),ToolBox=React.createClass({displayName:"ToolBox",render:function(){var a={brushTool:"Brush Tool ("+hotkeys.actions.selectBrushTool.key+")",eraserTool:"Eraser Tool ("+hotkeys.actions.selectEraserTool.key+")",eyedropperTool:"Eyedropper Tool ("+hotkeys.actions.selectEyedropperTool.key+")",rectangularSelectionTool:"Selection Tool ("+hotkeys.actions.selectRectangularSelectionTool.key+")",paintBucketTool:"Paint Bucket Tool ("+hotkeys.actions.selectPaintBucketTool.key+")",brightnessTool:"Brightness Tool ("+hotkeys.actions.selectBrightnessTool.key+")",moveTool:"Move Tool ("+hotkeys.actions.selectMoveTool.key+")",zoomTool:"Zoom Tool ("+hotkeys.actions.selectZoomTool.key+")"};return React.DOM.div({id:"ToolBox"},React.DOM.h4(null,"Tools"),React.DOM.div(null,ToolBoxTool({id:"BrushTool",title:a.brushTool,icon:"flaticon-small23",editor:this.props.editor}),ToolBoxTool({id:"EraserTool",title:a.eraserTool,icon:"flaticon-double31",editor:this.props.editor}),ToolBoxTool({id:"EyedropperTool",title:a.eyedropperTool,icon:"flaticon-eyedropper2",editor:this.props.editor}),ToolBoxTool({id:"RectangularSelectionTool",title:a.rectangularSelectionTool,icon:"flaticon-selection7",editor:this.props.editor}),ToolBoxTool({id:"PaintBucketTool",title:a.paintBucketTool,icon:"flaticon-paint2",editor:this.props.editor}),ToolBoxTool({id:"BrightnessTool",title:a.brightnessTool,icon:"flaticon-sun4",editor:this.props.editor}),ToolBoxTool({id:"MoveTool",title:a.moveTool,icon:"flaticon-move11",editor:this.props.editor}),ToolBoxTool({id:"ZoomTool",title:a.zoomTool,icon:"flaticon-magnifier5",editor:this.props.editor})))}}),ToolBoxTool=React.createClass({displayName:"ToolBoxTool",render:function(){var a=this.props.id==this.props.editor.tool?!0:!1,b="ToolBoxTool transparent";return a&&(b+=" active"),React.DOM.button({id:this.props.id,className:b,title:this.props.title,disabled:a,onClick:this.dispatchToolSelected.bind(this,this.props.id)},React.DOM.i({className:this.props.icon}))},dispatchToolSelected:function(a){channel.publish("app.tool.select",{tool:a})}}),ToolContainer=React.createClass({displayName:"ToolContainer",render:function(){return window[this.props.editor.tool](this.props)}}),ZoomTool=React.createClass({displayName:"ZoomTool",render:function(){editor.zoom;return React.DOM.div({id:"Zoom-Tool",className:"ToolComponent"},React.DOM.i({className:"icon flaticon-magnifier5"}),React.DOM.button({onClick:this.zoomIn,className:"small",title:"Zoom in"},React.DOM.i({className:"flaticon-plus25"})),React.DOM.button({onClick:this.zoomOut,className:"small",title:"Zoom out"},React.DOM.i({className:"flaticon-minus18"})),React.DOM.input({type:"range",min:"1",max:"50",className:"zoom-slider",value:this.props.editor.zoom,onChange:this.dispatchZoomChanged}),React.DOM.span(null,"Zoom ×"),React.DOM.input({type:"number",min:"1",max:"50",className:"zoom-number",value:this.props.editor.zoom,onChange:this.dispatchZoomChanged}),React.DOM.button({onClick:this.fitToScreen,className:"small"},"Fit to screen"),React.DOM.span({className:"spacer"}),React.DOM.span({className:"hint"},"A pixel in your sprite is now ",this.props.editor.zoom," pixels on your screen."))},dispatchZoomChanged:function(a,b){b=_.isNull(a)?b:a.target.value,channel.publish("stage.zoom.select",{zoom:b})},zoomIn:function(){editor.zoom+1<=50&&this.dispatchZoomChanged(null,editor.zoom+1)},zoomOut:function(){editor.zoom-1>=1&&this.dispatchZoomChanged(null,editor.zoom-1)},fitToScreen:function(){var a=Math.floor((window.innerHeight-editor.offset.top-editor.offset.bottom)/file.size.height);file.size.width*a>window.innerWidth-editor.offset.left-editor.offset.right&&(a=Math.floor((window.innerWidth-editor.offset.left-editor.offset.right)/file.size.width)),this.dispatchZoomChanged(null,a)}}),channel=postal.channel("pixler"),wireTap=new postal.diagnostics.DiagnosticsWireTap({name:"console",filters:[{channel:"pixler"}],active:!1}),file=new File,stage=new Stage,editor=new Editor,hotkeys=new Hotkeys(editor),workspace=new Workspace;window.onbeforeunload=workspace.save,window.onload=function(){file.fromJSONString(savedFile),editor.palettes.buildAuto(),channel.publish("app.frame.select",{frame:1}),React.renderComponent(App({editor:editor,pixel:stage.pixel,workspace:workspace}),document.body)};